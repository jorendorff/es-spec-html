<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <title>ECMAScript Internationalization API Specification – ECMA-402 Edition 1.0</title>
  <link href="es5.1.css" rel="stylesheet">
</head>
<body>
<img src="Ecma_RVB-003.jpg" alt="Ecma International Logo." width="373" height="146">
<hgroup>
  <h1 style="color: #ff6600">Standard ECMA-402</h1>
  <h1 style="color: #ff6600">1<sup>st</sup> Edition / December 2012</h1>
  <h1 style="color: #ff6600; font-size: 250%; margin-top: 20px">ECMAScript Internationalization API Specification</h1>
</hgroup>

<div id="unofficial">
  <p>This is the HTML rendering of <i>ECMA-402 Edition 1.0, ECMAScript Internationalization API Specification</i>.</p>

  <p>The PDF rendering of this document is located at <a
  href="http://www.ecma-international.org/ecma-402/1.0/ECMA-402.pdf">http://www.ecma-international.org/ecma-402/1.0/ECMA-402.pdf</a>.</p>

  <p>The PDF version is the definitive specification. Any discrepancies between this HTML version and the PDF version are
  unintentional.</p>
</div>

<section id="contents">
  <h1>Contents</h1>
  <ol class="toc">
    <li>Introduction</li>
    <li><span class="secnum"><a href="#sec-1" title="link to this section">1</a></span> Scope</li>
    <li><span class="secnum"><a href="#sec-2" title="link to this section">2</a></span> Conformance</li>
    <li><span class="secnum"><a href="#sec-3" title="link to this section">3</a></span> Normative References</li>
    <li><span class="secnum"><a href="#sec-4" title="link to this section">4</a></span> Overview
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-4.1" title="link to this section">4.1</a></span> Internationalization,
            Localization, and Globalization</li>
        <li><span class="secnum"><a href="#sec-4.2" title="link to this section">4.2</a></span> API Overview</li>
        <li><span class="secnum"><a href="#sec-4.3" title="link to this section">4.3</a></span> Implementation Dependencies</li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-5" title="link to this section">5</a></span> Notational Conventions</li>
    <li><span class="secnum"><a href="#sec-6" title="link to this section">6</a></span> Identification of Locales, Time Zones, and
        Currencies
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-6.1" title="link to this section">6.1</a></span> Case Sensitivity and Case
            Mapping</li>
        <li><span class="secnum"><a href="#sec-6.2" title="link to this section">6.2</a></span> Language Tags
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-6.2.1" title="link to this section">6.2.1</a></span> Unicode Locale Extension
                Sequences</li>
            <li><span class="secnum"><a href="#sec-6.2.2" title="link to this section">6.2.2</a></span>
                IsStructurallyValidLanguageTag (locale)</li>
            <li><span class="secnum"><a href="#sec-6.2.3" title="link to this section">6.2.3</a></span> CanonicalizeLanguageTag
                (locale)</li>
            <li><span class="secnum"><a href="#sec-6.2.4" title="link to this section">6.2.4</a></span> DefaultLocale ()</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-6.3" title="link to this section">6.3</a></span> Currency Codes
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-6.3.1" title="link to this section">6.3.1</a></span> IsWellFormedCurrencyCode
                (currency)</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-6.4" title="link to this section">6.4</a></span> Time Zone Names</li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-7" title="link to this section">7</a></span> Requirements for Standard Built-in
        ECMAScript Objects</li>
    <li><span class="secnum"><a href="#sec-8" title="link to this section">8</a></span> The Intl Object
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-8.1" title="link to this section">8.1</a></span> Properties of the Intl Object</li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-9" title="link to this section">9</a></span> Locale and Parameter Negotiation
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-9.1" title="link to this section">9.1</a></span> Internal Properties of Service
            Constructors</li>
        <li><span class="secnum"><a href="#sec-9.2" title="link to this section">9.2</a></span> Abstract Operations
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-9.2.1" title="link to this section">9.2.1</a></span> CanonicalizeLocaleList
                (locales)</li>
            <li><span class="secnum"><a href="#sec-9.2.2" title="link to this section">9.2.2</a></span> BestAvailableLocale
                (availableLocales, locale)</li>
            <li><span class="secnum"><a href="#sec-9.2.3" title="link to this section">9.2.3</a></span> LookupMatcher
                (availableLocales, requestedLocales)</li>
            <li><span class="secnum"><a href="#sec-9.2.4" title="link to this section">9.2.4</a></span> BestFitMatcher
                (availableLocales, requestedLocales)</li>
            <li><span class="secnum"><a href="#sec-9.2.5" title="link to this section">9.2.5</a></span> ResolveLocale
                (availableLocales, requestedLocales, options, relevantExtensionKeys, localeData)</li>
            <li><span class="secnum"><a href="#sec-9.2.6" title="link to this section">9.2.6</a></span> LookupSupportedLocales
                (availableLocales, requestedLocales)</li>
            <li><span class="secnum"><a href="#sec-9.2.7" title="link to this section">9.2.7</a></span> BestFitSupportedLocales
                (availableLocales, requestedLocales)</li>
            <li><span class="secnum"><a href="#sec-9.2.8" title="link to this section">9.2.8</a></span> SupportedLocales
                (availableLocales, requestedLocales, options)</li>
            <li><span class="secnum"><a href="#sec-9.2.9" title="link to this section">9.2.9</a></span> GetOption (options,
                property, type, values, fallback)</li>
            <li><span class="secnum"><a href="#sec-9.2.10" title="link to this section">9.2.10</a></span> GetNumberOption
                (options, property, minimum, maximum, fallback)</li>
          </ol>
        </li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-10" title="link to this section">10</a></span> Collator Objects
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-10.1" title="link to this section">10.1</a></span> The Intl.Collator Constructor
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-10.1.1" title="link to this section">10.1.1</a></span> Initializing an Object
                as a Collator</li>
            <li><span class="secnum"><a href="#sec-10.1.2" title="link to this section">10.1.2</a></span> The Intl.Collator
                Constructor Called as a Function</li>
            <li><span class="secnum"><a href="#sec-10.1.3" title="link to this section">10.1.3</a></span> The Intl.Collator
                Constructor Used in a new Expression</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-10.2" title="link to this section">10.2</a></span> Properties of the Intl.Collator
            Constructor
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-10.2.1" title="link to this section">10.2.1</a></span>
                Intl.Collator.prototype</li>
            <li><span class="secnum"><a href="#sec-10.2.2" title="link to this section">10.2.2</a></span>
                Intl.Collator.supportedLocalesOf (locales [, options])</li>
            <li><span class="secnum"><a href="#sec-10.2.3" title="link to this section">10.2.3</a></span> Internal Properties</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-10.3" title="link to this section">10.3</a></span> Properties of the Intl.Collator
            Prototype Object
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-10.3.1" title="link to this section">10.3.1</a></span>
                Intl.Collator.prototype.constructor</li>
            <li><span class="secnum"><a href="#sec-10.3.2" title="link to this section">10.3.2</a></span>
                Intl.Collator.prototype.compare</li>
            <li><span class="secnum"><a href="#sec-10.3.3" title="link to this section">10.3.3</a></span>
                Intl.Collator.prototype.resolvedOptions ()</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-10.4" title="link to this section">10.4</a></span> Properties of Intl.Collator
            Instances</li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-11" title="link to this section">11</a></span> NumberFormat Objects
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-11.1" title="link to this section">11.1</a></span> The Intl.NumberFormat
            Constructor
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-11.1.1" title="link to this section">11.1.1</a></span> Initializing an Object
                as a NumberFormat</li>
            <li><span class="secnum"><a href="#sec-11.1.2" title="link to this section">11.1.2</a></span> The Intl.NumberFormat
                Constructor Called as a Function</li>
            <li><span class="secnum"><a href="#sec-11.1.3" title="link to this section">11.1.3</a></span> The Intl.NumberFormat
                Constructor Used in a new Expression</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-11.2" title="link to this section">11.2</a></span> Properties of the
            Intl.NumberFormat Constructor
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-11.2.1" title="link to this section">11.2.1</a></span>
                Intl.NumberFormat.prototype</li>
            <li><span class="secnum"><a href="#sec-11.2.2" title="link to this section">11.2.2</a></span>
                Intl.NumberFormat.supportedLocalesOf (locales [, options])</li>
            <li><span class="secnum"><a href="#sec-11.2.3" title="link to this section">11.2.3</a></span> Internal Properties</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-11.3" title="link to this section">11.3</a></span> Properties of the
            Intl.NumberFormat Prototype Object
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-11.3.1" title="link to this section">11.3.1</a></span>
                Intl.NumberFormat.prototype.constructor</li>
            <li><span class="secnum"><a href="#sec-11.3.2" title="link to this section">11.3.2</a></span>
                Intl.NumberFormat.prototype.format</li>
            <li><span class="secnum"><a href="#sec-11.3.3" title="link to this section">11.3.3</a></span>
                Intl.NumberFormat.prototype.resolvedOptions ()</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-11.4" title="link to this section">11.4</a></span> Properties of Intl.NumberFormat
            Instances</li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-12" title="link to this section">12</a></span> DateTimeFormat Objects
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-12.1" title="link to this section">12.1</a></span> The Intl.DateTimeFormat
            Constructor
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-12.1.1" title="link to this section">12.1.1</a></span> Initializing an Object
                as a DateTimeFormat</li>
            <li><span class="secnum"><a href="#sec-12.1.2" title="link to this section">12.1.2</a></span> The Intl.DateTimeFormat
                Constructor Called as a Function</li>
            <li><span class="secnum"><a href="#sec-12.1.3" title="link to this section">12.1.3</a></span> The Intl.DateTimeFormat
                Constructor Used in a new Expression</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-12.2" title="link to this section">12.2</a></span> Properties of the
            Intl.DateTimeFormat Constructor
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-12.2.1" title="link to this section">12.2.1</a></span>
                Intl.DateTimeFormat.prototype</li>
            <li><span class="secnum"><a href="#sec-12.2.2" title="link to this section">12.2.2</a></span>
                Intl.DateTimeFormat.supportedLocalesOf (locales [, options])</li>
            <li><span class="secnum"><a href="#sec-12.2.3" title="link to this section">12.2.3</a></span> Internal Properties</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-12.3" title="link to this section">12.3</a></span> Properties of the
            Intl.DateTimeFormat Prototype Object
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-12.3.1" title="link to this section">12.3.1</a></span>
                Intl.DateTimeFormat.prototype.constructor</li>
            <li><span class="secnum"><a href="#sec-12.3.2" title="link to this section">12.3.2</a></span>
                Intl.DateTimeFormat.prototype.format</li>
            <li><span class="secnum"><a href="#sec-12.3.3" title="link to this section">12.3.3</a></span>
                Intl.DateTimeFormat.prototype.resolvedOptions ()</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-12.4" title="link to this section">12.4</a></span> Properties of
            Intl.DateTimeFormat Instances</li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-13" title="link to this section">13</a></span> Locale Sensitive Functions of the
        ECMAScript Language Specification
      <ol class="toc">
        <li><span class="secnum"><a href="#sec-13.1" title="link to this section">13.1</a></span> Properties of the String
            Prototype Object
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-13.1.1" title="link to this section">13.1.1</a></span>
                String.prototype.localeCompare (that [, locales [, options]])</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-13.2" title="link to this section">13.2</a></span> Properties of the Number
            Prototype Object
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-13.2.1" title="link to this section">13.2.1</a></span>
                Number.prototype.toLocaleString ([locales [, options]])</li>
          </ol>
        </li>
        <li><span class="secnum"><a href="#sec-13.3" title="link to this section">13.3</a></span> Properties of the Date Prototype
            Object
          <ol class="toc">
            <li><span class="secnum"><a href="#sec-13.3.1" title="link to this section">13.3.1</a></span>
                Date.prototype.toLocaleString ([locales [, options]])</li>
            <li><span class="secnum"><a href="#sec-13.3.2" title="link to this section">13.3.2</a></span>
                Date.prototype.toLocaleDateString ([locales [, options]])</li>
            <li><span class="secnum"><a href="#sec-13.3.3" title="link to this section">13.3.3</a></span>
                Date.prototype.toLocaleTimeString ([locales [, options]])</li>
          </ol>
        </li>
      </ol>
    </li>
    <li><span class="secnum"><a href="#sec-A" title="link to this section">Annex A </a></span> <span
        class="section-status">(informative)</span> Implementation Dependent Behaviour</li>
  </ol>
</section>

<section>
  <h1>Introduction</h1>

  <p>The ECMAScript Internationalization API provides key language-sensitive functionality as a complement to the ECMAScript
  Language Specification, 5.1 edition or successor. Its functionality has been selected from that of well-established
  internationalization APIs such as those of the Internationalization Components for Unicode (ICU) library, of the .NET framework,
  or of the Java platform.</p>

  <p>The API was developed by an ad-hoc group established by Ecma TC 39 in September 2010 based on a proposal by Nebojša Ćirić and
  Jungshik Shin.</p>

  <p>Internationalization of software is never complete. We expect significant enhancements in future editions of this
  specification.</p>

  <p><b>Editor</b></p>

  <p>Norbert Lindenberg</p>

  <p><b>Contributors</b></p>

  <p>Eric Albright</p>

  <p>Nebojša Ćirić</p>

  <p>Peter Constable</p>

  <p>Mark Davis</p>

  <p>Richard Gillam</p>

  <p>Steven Loomis</p>

  <p>Mihai Nita</p>

  <p>Addison Phillips</p>

  <p>Roozbeh Pournader</p>

  <p>Jungshik Shin</p>

  <p>Shawn Steele</p>

  <p>Allen Wirfs-Brock</p>

  <p>Feedback provided by Erik Arvidsson, John J. Barton, Zbigniew Braniecki, Marcos Cáceres, Brendan Eich, John Emmons, Gordon P.
  Hemsley, David Herman, Luke Hoban, Oliver Hunt, Suresh Jayabalan, Yehuda Katz, Mark S. Miller, Andrew Paprocki, Adam Peller,
  Axel Rauschmayer, Andreas Rossberg, Alex Russell, Markus Scherer, Dmitry Soshnikov, Yusuke Suzuki, John Tamplin, Rick Waldron,
  Anton Yatsenko, Nicholas Zakas.</p>

  <p>This Ecma Standard has been adopted by the General Assembly of December 2012.</p>

  <p><i>COPYRIGHT NOTICE</i></p>

  <p><i>© 2012 Ecma International</i></p>

  <p><i>This document may be copied, published and distributed to others, and certain derivative works of it may be prepared,
  copied, published, and distributed, in whole or in part, provided that the above copyright notice and this Copyright License and
  Disclaimer are included on all such copies and derivative works. The only derivative works that are permissible under this
  Copyright License and Disclaimer are:</i></p>

  <p><i>(i)</i>	<i>works which incorporate all or portion of this document for the purpose of providing commentary or explanation
  (such as an annotated version of the document),</i></p>

  <p><i>(ii)</i>	<i>works which incorporate all or portion of this document for the purpose of incorporating features that provide
  accessibility,</i></p>

  <p><i>(iii)</i>	<i>translations of this document into languages other than English and into different formats and</i></p>

  <p><i>(iv)</i>	<i>works by making use of this specification in standard conformant products by implementing (e.g. by copy and
  paste wholly or partly) the functionality therein.</i></p>

  <p><i>However, the content of this document itself may not be modified in any way, including by removing the copyright notice or
  references to Ecma International, except as required to translate it into languages other than English or into a different
  format.</i></p>

  <p><i>The official version of an Ecma International document is the English language version on the Ecma International website.
  In the event of discrepancies between a translated version and the official version, the official version shall govern.</i></p>

  <p><i>The limited permissions granted above are perpetual and will not be revoked by Ecma International or its successors or
  assigns.</i></p>

  <p><i>This document and the information contained herein is provided on an "AS IS" basis and ECMA INTERNATIONAL DISCLAIMS ALL
  WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT
  INFRINGE ANY OWNERSHIP RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.</i></p>
</section>

<div class="inner-title">ECMAScript Internationalization API Specification </div>

<section id="sec-1">
  <h1><span class="secnum"><a href="#sec-1" title="link to this section">1</a></span> Scope</h1>

  <p>This Standard defines the application programming interface for ECMAScript objects that support programs that need to adapt
  to the linguistic and cultural conventions used by different human languages and countries.</p>
</section>

<section id="sec-2">
  <h1><span class="secnum"><a href="#sec-2" title="link to this section">2</a></span> Conformance</h1>

  <p>A conforming implementation of the ECMAScript Internationalization API must conform to the ECMAScript Language Specification,
  5.1 edition or successor, and must provide and support all the objects, properties, functions, and program semantics described
  in this specification.</p>

  <p>A conforming implementation of the ECMAScript Internationalization API is permitted to provide additional objects,
  properties, and functions beyond those described in this specification. In particular, a conforming implementation of the
  ECMAScript Internationalization API is permitted to provide properties not described in this specification, and values for those
  properties, for objects that are described in this specification. A conforming implementation is not permitted to add optional
  arguments to the functions defined in this specification.</p>

  <p>A conforming implementation is permitted to accept additional values, and then have implementation-defined behaviour instead
  of throwing a <b>RangeError</b>, for the following properties of <var>options</var> arguments:</p>

  <ul>
    <li>
      <p>The <var>options</var> property localeMatcher in all constructors and supportedLocalesOf methods.</p>
    </li>

    <li>
      <p>The <var>options</var> properties usage and sensitivity in the Collator constructor.</p>
    </li>

    <li>
      <p>The <var>options</var> properties style and currencyDisplay in the NumberFormat constructor.</p>
    </li>

    <li>
      <p>The <var>options</var> properties minimumIntegerDigits, minimumFractionDigits, maximumFractionDigits,
      minimumSignificantDigits, and maximumSignificantDigits in the NumberFormat constructor, provided that the additional values
      are interpreted as integer values higher than the specified limits.</p>
    </li>

    <li>
      <p>The <var>options</var> property timeZone in the DateTimeFormat constructor, provided that the additional acceptable input
      values are case-insensitive matches of Zone or Link identifiers in the IANA time zone database and are canonicalized to Zone
      identifiers in the casing used in the database for the timeZone property of the object returned by
      DateTimeFormat.resolvedOptions, except that "Etc/GMT" shall be canonicalized to "UTC".</p>
    </li>

    <li>
      <p>The <var>options</var> properties listed in table 3 in the DateTimeFormat constructor.</p>
    </li>

    <li>
      <p>The <var>options</var> property formatMatcher in the DateTimeFormat constructor.</p>
    </li>
  </ul>
</section>

<section id="sec-3">
  <h1><span class="secnum"><a href="#sec-3" title="link to this section">3</a></span> Normative References</h1>

  <p>The following referenced documents are required for the application of this document. For dated references, only the edition
  cited applies. For undated references, the latest edition of the referenced document (including any amendments) applies.</p>

  <p>ECMA-262, ECMAScript Language Specification, 5.1 edition or successor<br><a
  href="http://www.ecma-international.org/publications/standards/Ecma-262.htm">http://www.ecma-international.org/publications/standards/Ecma-262.htm</a></p>

  <div class="note">
    <p><span class="nh">NOTE</span> Throughout this document, the phrase “ES5, <i>x</i>”, where <i>x</i> is a sequence of numbers
    separated by periods, may be used as shorthand for “ECMAScript Language Specification, 5.1 edition, subclause <i>x</i>”.</p>
  </div>

  <p>ISO/IEC 10646:2003: Information Technology – Universal Multiple-Octet Coded Character Set (UCS) plus Amendment 1:2005 and
  Amendment 2:2006, plus additional amendments and corrigenda, or successor<br><a
  href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=39921">http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=39921</a><br><a
  href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=40755">http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=40755</a><br><a
  href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=41419">http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=41419</a></p>

  <p>ISO 4217:2008, Codes for the representation of currencies and funds, or successor<br><a
  href="http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=46121">http://www.iso.org/iso/iso_catalogue/catalogue_tc/catalogue_detail.htm?csnumber=46121</a></p>

  <p>IETF BCP 47:</p>

  <ul>
    <li>
      <p>RFC 5646, Tags for Identifying Languages, or successor<br><a
      href="http://tools.ietf.org/html/rfc5646">http://tools.ietf.org/html/rfc5646</a></p>
    </li>

    <li>
      <p>RFC 4647, Matching of Language Tags, or successor<br><a
      href="http://tools.ietf.org/html/rfc4647">http://tools.ietf.org/html/rfc4647</a></p>
    </li>
  </ul>

  <p>IETF RFC 6067, BCP 47 Extension U, or successor<br><a
  href="http://tools.ietf.org/html/">http://tools.ietf.org/html/</a>rfc6067</p>

  <p>IANA Time Zone Database<br><a href="http://www.iana.org/time-zones/">http://www.iana.org/time-zones/</a></p>

  <p>The Unicode Standard<i>, Version 5.0</i>, or successor<br><a
  href="http://www.unicode.org/versions/latest">http://www.unicode.org/versions/latest</a></p>

  <p>Unicode Technical Standard 35, Unicode Locale Data Markup Language, version 21.0.1 or successor<br><a
  href="http://unicode.org/reports/tr35/">http://unicode.org/reports/tr35/</a></p>
</section>

<section id="sec-4">
  <h1><span class="secnum"><a href="#sec-4" title="link to this section">4</a></span> Overview</h1>

  <p>This section contains a non-normative overview of the ECMAScript Internationalization API.</p>

  <section id="sec-4.1">
    <h1><span class="secnum"><a href="#sec-4.1" title="link to this section">4.1</a></span> Internationalization, Localization,
        and Globalization</h1>

    <p>Internationalization of software means designing it such that it supports or can be easily adapted to support the needs of
    users speaking different languages and having different cultural expectations, and enables worldwide communication between
    them. Localization then is the actual adaptation to a specific language and culture. Globalization of software is commonly
    understood to be the combination of internationalization and localization. Globalization starts at the lowest level by using a
    text representation that supports all languages in the world, and using standard identifiers to identify languages, countries,
    time zones, and other relevant parameters. It continues with using a user interface language and data presentation that the
    user understands, and finally often requires product-specific adaptations to the user’s language, culture, and
    environment.</p>

    <p>The ECMAScript Language Specification lays the foundation by using Unicode for text representation and by providing a few
    language-sensitive functions, but gives applications little control over the behaviour of these functions. The ECMAScript
    Internationalization API builds on this by providing a set of customizable language-sensitive functionality. The API is useful
    even for applications that themselves are not internationalized, as even applications targeting only one language and one
    region need to properly support that one language and region. However, the API also enables applications that support multiple
    languages and regions, even concurrently, as may be needed in server environments.</p>
  </section>

  <section id="sec-4.2">
    <h1><span class="secnum"><a href="#sec-4.2" title="link to this section">4.2</a></span> API Overview</h1>

    <p>The ECMAScript Internationalization API is designed to complement the ECMAScript Language Specification by providing key
    language-sensitive functionality. The API can be added to an implementation of the ECMAScript Language Specification, 5.1
    edition or successor.</p>

    <p>The ECMAScript Internationalization API provides three key pieces of language-sensitive functionality that are required in
    most applications: String comparison (collation), number formatting, and date and time formatting. While the ECMAScript
    Language Specification provides functions for this basic functionality (String.prototype.localeCompare,
    Number.prototype.toLocaleString, Date.prototype.toLocaleString, Date.prototype.toLocaleDateString, and
    Date.prototype.toLocaleTimeString), it leaves the actual behaviour of these functions largely up to implementations to define.
    The Internationalization API Specification provides additional functionality, control over the language and over details of
    the behaviour to be used, and a more complete specification of required functionality.</p>

    <p>Applications can use the API in two ways:</p>

    <ol class="proc">
      <li>Directly, by using the constructors Intl.Collator, Intl.NumberFormat, or Intl.DateTimeFormat to construct an object,
          specifying a list of preferred languages and options to configure the behaviour of the resulting object. The object then
          provides a main function (compare or format), which can be called repeatedly. It also provides a resolvedOptions
          function, which the application can use to find out the exact configuration of the object.</li>
      <li>Indirectly, by using the functions of the ECMAScript Language Specification mentioned above, which are respecified in
          this specification to accept the same arguments as the Collator, NumberFormat, and DateTimeFormat constructors and
          produce the same results as their compare or format methods.</li>
    </ol>

    <p>The Intl object is used to package all functionality defined in the ECMAScript Internationalization API to avoid name
    collisions.</p>
  </section>

  <section id="sec-4.3">
    <h1><span class="secnum"><a href="#sec-4.3" title="link to this section">4.3</a></span> Implementation Dependencies</h1>

    <p>Due to the nature of internationalization, the API specification has to leave several details implementation dependent:</p>

    <ul>
      <li>
        <p><i>The set of locales that an implementation supports with adequate localizations:</i> Linguists estimate the number of
        human languages to around 6000, and the more widely spoken ones have variations based on regions or other parameters. Even
        large locale data collections, such as the Common Locale Data Repository, cover only a subset of this large set.
        Implementations targeting resource-constrained devices may have to further reduce the subset.</p>
      </li>

      <li>
        <p><i>The exact form of localizations such as format patterns:</i> In many cases locale-dependent conventions are not
        standardized, so different forms may exist side by side, or they vary over time. Different internationalization libraries
        may have implemented different forms, without any of them being actually wrong. In order to allow this API to be
        implemented on top of existing libraries, such variations have to be permitted.</p>
      </li>

      <li>
        <p><i>Subsets of Unicode:</i> Some operations, such as collation, operate on strings that can include characters from the
        entire Unicode character set. However, both the Unicode standard and the ECMAScript standard allow implementations to
        limit their functionality to subsets of the Unicode character set. In addition, locale conventions typically don’t specify
        the desired behaviour for the entire Unicode character set, but only for those characters that are relevant for the
        locale. While the Unicode Collation Algorithm combines a default collation order for the entire Unicode character set with
        the ability to tailor for local conventions, subsets and tailorings still result in differences in behaviour.</p>
      </li>
    </ul>
  </section>
</section>

<section id="sec-5">
  <h1><span class="secnum"><a href="#sec-5" title="link to this section">5</a></span> Notational Conventions</h1>

  <p>This standard uses a subset of the notational conventions of the ECMAScript Language Specification, 5.1 edition:</p>

  <ul>
    <li>Algorithm conventions, including the use of abstract operations, as described in <a
        href="http://ecma-international.org/ecma-262/5.1/#sec-5.2">ES5, 5.2</a>.</li>
    <li>Internal properties, as described in <a href="http://ecma-international.org/ecma-262/5.1/#sec-8.6.2">ES5, 8.6.2</a>.</li>
    <li>The List specification type, as described in <a href="http://ecma-international.org/ecma-262/5.1/#sec-8.8">ES5,
        8.8</a>.</li>
  </ul>

  <div class="note">
    <p><span class="nh">NOTE</span> As described in the ECMAScript Language Specification, algorithms are used to precisely
    specify the required semantics of ECMAScript constructs, but are not intended to imply the use of any specific implementation
    technique. Internal properties are used to define the semantics of object values, but are not part of the API. They are
    defined purely for expository purposes. An implementation of the API must behave as if it produced and operated upon internal
    properties in the manner described here.</p>
  </div>

  <p>In addition, the Record specification type is used to describe data aggregations within the algorithms of this specification.
  A Record type value consists of one or more named fields. The value of each field is an ECMAScript type value. Field names are
  always enclosed in double brackets, for example [[field1]]. Field names can also be provided by a variable: The notation
  “[[&lt;<var>name</var>&gt;]]” denotes a field whose name is given by the variable <var>name</var>, which must have a String
  value. For example, if a variable <var>s</var> has the value <code>"a"</code>, then [[&lt;<var>s</var>&gt;]] denotes the field
  [[a]].</p>

  <p>In specification text and algorithms, dot notation may be used to refer to a specific field of a Record value. For example,
  if <var>r</var> is a record, then <var>r</var>.[[field1]] is shorthand for “the field of <var>r</var> named [[field1]]”.</p>

  <p>For ECMAScript objects, this standard may use variable-named internal properties: The notation “[[&lt;<var>name</var>&gt;]]”
  denotes an internal property whose name is given by the variable <var>name</var>, which must have a String value. For example,
  if a variable <var>s</var> has the value <code>"a"</code>, then [[&lt;<var>s</var>&gt;]] denotes the [[a]] internal
  property.</p>
</section>

<section id="sec-6">
  <h1><span class="secnum"><a href="#sec-6" title="link to this section">6</a></span> Identification of Locales, Time Zones, and
      Currencies</h1>

  <p>This clause describes the String values used in the ECMAScript Internationalization API to identify locales, currencies, and
  time zones.</p>

  <section id="sec-6.1">
    <h1><span class="secnum"><a href="#sec-6.1" title="link to this section">6.1</a></span> Case Sensitivity and Case Mapping</h1>

    <p>The String values used to identify locales, currencies, and time zones are interpreted in a case-insensitive manner,
    treating the Unicode Basic Latin characters "A" to "Z" (U+0041 to U+005A) as equivalent to the corresponding Basic Latin
    characters "a" to "z" (U+0061 to U+007A). No other case folding equivalences are applied. When mapping to upper case, a
    mapping shall be used that maps characters in the range "a" to "z" (U+0061 to U+007A) to the corresponding characters in the
    range "A" to "Z" (U+0041 to U+005A) and maps no other characters to the latter range.</p>

    <div class="note">
      <p><span class="nh">EXAMPLES</span> "ß" (U+00DF) must not match or be mapped to "SS" (U+0053, U+0053). "ı" (U+0131) must not
      match or be mapped to "I" (U+0049).</p>
    </div>
  </section>

  <section id="sec-6.2">
    <h1><span class="secnum"><a href="#sec-6.2" title="link to this section">6.2</a></span> Language Tags</h1>

    <p>The ECMAScript Internationalization API identifies locales using language tags as defined by IETF BCP 47 (RFCs 5646 and
    4647 or their successors), which may include extensions such as those registered through RFC 6067. Their canonical form is
    specified in RFC 5646 section 4.5 or its successor.</p>

    <p>BCP 47 language tags that meet those validity criteria of RFC 5646 section 2.2.9 that can be verified without reference to
    the IANA Language Subtag Registry are considered structurally valid. All structurally valid language tags are valid for use
    with the APIs defined by this standard. However, the set of locales and thus language tags that an implementation supports
    with adequate localizations is implementation dependent. The constructors Collator, NumberFormat, and DateTimeFormat map the
    language tags used in requests to locales supported by their respective implementations.</p>

    <section id="sec-6.2.1">
      <h1><span class="secnum"><a href="#sec-6.2.1" title="link to this section">6.2.1</a></span> Unicode Locale Extension
          Sequences</h1>

      <p>This standard uses the term “Unicode locale extension sequence” for any substring of a language tag that starts with a
      separator "-" and the singleton "u" and includes the maximum sequence of following non-singleton subtags and their preceding
      "-" separators.</p>
    </section>

    <section id="sec-6.2.2">
      <h1><span class="secnum"><a href="#sec-6.2.2" title="link to this section">6.2.2</a></span> IsStructurallyValidLanguageTag
          (locale)</h1>

      <p>The IsStructurallyValidLanguageTag abstract operation verifies that the <var>locale</var> argument (which must be a
      String value)</p>

      <ul>
        <li>represents a well-formed BCP 47 language tag as specified in RFC 5646 section 2.1, or successor,</li>
        <li>does not include duplicate variant subtags, and</li>
        <li>does not include duplicate singleton subtags.</li>
      </ul>

      <p>The abstract operation returns true if <var>locale</var> can be generated from the ABNF grammar in section 2.1 of the
      RFC, starting with Language-Tag, and does not contain duplicate variant or singleton subtags (other than as a private use
      subtag). It returns false otherwise. Terminal value characters in the grammar are interpreted as the Unicode equivalents of
      the ASCII octet values given.</p>
    </section>

    <section id="sec-6.2.3">
      <h1><span class="secnum"><a href="#sec-6.2.3" title="link to this section">6.2.3</a></span> CanonicalizeLanguageTag
          (locale)</h1>

      <p>The CanonicalizeLanguageTag abstract operation returns the canonical and case-regularized form of the locale argument
      (which must be a String value that is a structurally valid BCP 47 language tag as verified by the <a
      href="#sec-6.2.2">IsStructurallyValidLanguageTag</a> abstract operation). It takes the steps specified in RFC 5646 section
      4.5, or successor, to bring the language tag into canonical form, and to regularize the case of the subtags, but does not
      take the steps to bring a language tag into “extlang form” and to reorder variant subtags.</p>

      <p>The specifications for extensions to BCP 47 language tags, such as RFC 6067, may include canonicalization rules for the
      extension subtag sequences they define that go beyond the canonicalization rules of RFC 5646 section 4.5. Implementations
      are allowed, but not required, to apply these additional rules.</p>
    </section>

    <section id="sec-6.2.4">
      <h1><span class="secnum"><a href="#sec-6.2.4" title="link to this section">6.2.4</a></span> DefaultLocale ()</h1>

      <p>The DefaultLocale abstract operation returns a String value representing the structurally valid (<a
      href="#sec-6.2.2">6.2.2</a>) and canonicalized (<a href="#sec-6.2.3">6.2.3</a>) BCP 47 language tag for the host
      environment’s current locale.</p>
    </section>
  </section>

  <section id="sec-6.3">
    <h1><span class="secnum"><a href="#sec-6.3" title="link to this section">6.3</a></span> Currency Codes</h1>

    <p>The ECMAScript Internationalization API identifies currencies using 3-letter currency codes as defined by ISO 4217. Their
    canonical form is upper case.</p>

    <p>All well-formed 3-letter ISO 4217 currency codes are allowed. However, the set of combinations of currency code and
    language tag for which localized currency symbols are available is implementation dependent. Where a localized currency symbol
    is not available, the ISO 4217 currency code is used for formatting.</p>

    <section id="sec-6.3.1">
      <h1><span class="secnum"><a href="#sec-6.3.1" title="link to this section">6.3.1</a></span> IsWellFormedCurrencyCode
          (currency)</h1>

      <p>The IsWellFormedCurrencyCode abstract operation verifies that the currency argument (after conversion to a String value)
      represents a well-formed 3-letter ISO currency code. The following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>c</i> be ToString(<i>currency</i>).</li>
        <li>Let <i>normalized</i> be the result of mapping <i>c</i> to upper case as described in <a href="#sec-6.1">6.1</a>.</li>
        <li>If the string length of <i>normalized</i> is not 3, return <b>false</b>.</li>
        <li>If <i>normalized</i> contains any character that is not in the range "A" to "Z" (U+0041 to U+005A), return
            <b>false</b>.</li>
        <li>Return <b>true</b>.</li>
      </ol>
    </section>
  </section>

  <section id="sec-6.4">
    <h1><span class="secnum"><a href="#sec-6.4" title="link to this section">6.4</a></span> Time Zone Names</h1>

    <p>The ECMAScript Internationalization API defines a single time zone name, <code>"UTC"</code>, which identifies the UTC time
    zone.</p>

    <p>The Intl.DateTimeFormat constructor allows this time zone name; if the time zone is not specified, the host environment’s
    current time zone is used. Implementations shall support UTC and the host environment’s current time zone (if different from
    UTC) in formatting.</p>

    <div class="note">
      <p><span class="nh">NOTE</span> The Conformance clause allows implementations to accept additional time zone names under
      specified conditions.</p>
    </div>
  </section>
</section>

<section id="sec-7">
  <h1><span class="secnum"><a href="#sec-7" title="link to this section">7</a></span> Requirements for Standard Built-in
      ECMAScript Objects</h1>

  <p>Unless specified otherwise in this document, the objects, functions, and constructors described in this standard are subject
  to the generic requirements and restrictions specified for standard built-in ECMAScript objects in the ECMAScript Language
  Specification 5.1 edition, <a href="http://ecma-international.org/ecma-262/5.1/#sec-15">introduction of clause 15</a>, or
  successor.</p>
</section>

<section id="sec-8">
  <h1><span class="secnum"><a href="#sec-8" title="link to this section">8</a></span> The Intl Object</h1>

  <p>The Intl object is a standard built-in object that is the initial value of the <code>Intl</code> property of the global
  object.</p>

  <p>The value of the [[Prototype]] internal property of the Intl object is the built-in Object prototype object specified by the
  ECMAScript Language Specification.</p>

  <p>The Intl object does not have a [[Construct]] internal property; it is not possible to use the Intl object as a constructor
  with the new operator.</p>

  <p>The Intl object does not have a [[Call]] internal property; it is not possible to invoke the Intl object as a function.</p>

  <section id="sec-8.1">
    <h1><span class="secnum"><a href="#sec-8.1" title="link to this section">8.1</a></span> Properties of the Intl Object</h1>

    <p>The value of each of the standard built-in properties of the Intl object is a constructor. The behaviour of these
    constructors is specified in the following clauses: Collator (<a href="#sec-10">10</a>), NumberFormat (<a
    href="#sec-11">11</a>), and DateTimeFormat (<a href="#sec-12">12</a>).</p>
  </section>
</section>

<section id="sec-9">
  <h1><span class="secnum"><a href="#sec-9" title="link to this section">9</a></span> Locale and Parameter Negotiation</h1>

  <p>The constructors for the objects providing locale sensitive services, Collator, NumberFormat, and DateTimeFormat, use a
  common pattern to negotiate the requests represented by the locales and options arguments against the actual capabilities of
  their implementations. The common behaviour is described here in terms of internal properties describing the capabilities and of
  abstract operations using these internal properties.</p>

  <section id="sec-9.1">
    <h1><span class="secnum"><a href="#sec-9.1" title="link to this section">9.1</a></span> Internal Properties of Service
        Constructors</h1>

    <p>The constructors Intl.Collator, Intl.NumberFormat, and Intl.DateTimeFormat have the following internal properties:</p>

    <ul>
      <li>
        <p>[[availableLocales]] is a <a href="#sec-5">List</a> that contains structurally valid (<a href="#sec-6.2.2">6.2.2</a>)
        and canonicalized (<a href="#sec-6.2.3">6.2.3</a>) BCP 47 language tags identifying the locales for which the
        implementation provides the functionality of the constructed objects. Language tags on the list must not have a Unicode
        locale extension sequence. The list must include the value returned by the <a href="#sec-6.2.4">DefaultLocale</a> abstract
        operation (<a href="#sec-6.2.4">6.2.4</a>), and must not include duplicates. Implementations must include in
        [[availableLocales]] locales that can serve as fallbacks in the algorithm used to resolve locales (see <a
        href="#sec-9.2.5">9.2.5</a>). For example, implementations that provide a "de-DE" locale must include a "de" locale that
        can serve as a fallback for requests such as "de-AT" and "de-CH". For locales that in current usage would include a script
        subtag (such as Chinese locales), old-style language tags without script subtags must be included such that, for example,
        requests for "zh-TW" and "zh-HK" lead to output in traditional Chinese rather than the default simplified Chinese. The
        ordering of the locales within [[availableLocales]] is irrelevant.</p>
      </li>

      <li>
        <p>[[relevantExtensionKeys]] is an array of keys of the language tag extensions defined in Unicode Technical Standard 35
        that are relevant for the functionality of the constructed objects.</p>
      </li>

      <li>
        <p>[[sortLocaleData]] and [[searchLocaleData]] (for Intl.Collator) and [[localeData]] (for Intl.NumberFormat and
        Intl.DateTimeFormat) are objects that have properties for each locale contained in [[availableLocales]]. The value of each
        of these properties must be an object that has properties for each key contained in [[relevantExtensionKeys]]. The value
        of each of these properties must be a non-empty array of those values defined in Unicode Technical Standard 35 for the
        given key that are supported by the implementation for the given locale, with the first element providing the default
        value.</p>
      </li>
    </ul>

    <div class="note">
      <p><span class="nh">EXAMPLE</span> An implementation of DateTimeFormat might include the language tag "th" in its
      [[availableLocales]] internal property, and must (according to <a href="#sec-12.2.3">12.2.3</a>) include the key "ca" in its
      [[relevantExtensionKeys]] internal property. For Thai, the "buddhist" calendar is usually the default, but an implementation
      might also support the calendars "gregory", "chinese", and "islamicc" for the locale "th". The [[localeData]] internal
      property would therefore at least include {"th": {ca: ["buddhist", "gregory", "chinese", "islamicc"]}}.</p>
    </div>
  </section>

  <section id="sec-9.2">
    <h1><span class="secnum"><a href="#sec-9.2" title="link to this section">9.2</a></span> Abstract Operations</h1>

    <p>Where the following abstract operations take an <var>availableLocales</var> argument, it must be an [[availableLocales]] <a
    href="#sec-5">List</a> as specified in <a href="#sec-9.1">9.1</a>.</p>

    <section id="sec-9.2.1">
      <h1><span class="secnum"><a href="#sec-9.2.1" title="link to this section">9.2.1</a></span> CanonicalizeLocaleList
          (locales)</h1>

      <p>The abstract operation CanonicalizeLocaleList takes the following steps:</p>

      <ol class="proc">
        <li>If <i>locales</i> is <b>undefined</b>, then
          <ol class="block">
            <li>Return a new empty <a href="#sec-5">List</a>.</li>
          </ol>
        </li>
        <li>Let <i>seen</i> be a new empty <a href="#sec-5">List</a>.</li>
        <li>If <i>locales</i> is a String value, then
          <ol class="block">
            <li>Let <i>locales</i> be a new array created as if by the expression <code>new Array(locales)</code> where
                <code>Array</code> is the standard built-in constructor with that name and <i>locales</i> is the value of
                <i>locales</i>.</li>
          </ol>
        </li>
        <li>Let <i>O</i> be ToObject(<i>locales</i>).</li>
        <li>Let <i>lenValue</i> be the result of calling the [[Get]] internal method of <i>O</i> with the argument
            <code>"length"</code>.</li>
        <li>Let <i>len</i> be ToUint32(<i>lenValue</i>).</li>
        <li>Let <i>k</i> be 0.</li>
        <li>Repeat, while <i>k</i> &lt; <i>len</i>
          <ol class="block">
            <li>Let <i>Pk</i> be ToString(<i>k</i>).</li>
            <li>Let <i>kPresent</i> be the result of calling the [[HasProperty]] internal method of <i>O</i> with argument
                <i>Pk</i>.</li>
            <li>If <i>kPresent</i> is <b>true</b>, then
              <ol class="block">
                <li>Let <i>kValue</i> be the result of calling the [[Get]] internal method of <i>O</i> with argument
                    <i>Pk</i>.</li>
                <li>If the type of <i>kValue</i> is not String or Object, then throw a <b>TypeError</b> exception.</li>
                <li>Let <i>tag</i> be ToString(<i>kValue</i>).</li>
                <li>If the result of calling the abstract operation <a href="#sec-6.2.2">IsStructurallyValidLanguageTag</a>
                    (defined in <a href="#sec-6.2.2">6.2.2</a>), passing <i>tag</i> as the argument, is <b>false</b>, then throw a
                    <b>RangeError</b> exception.</li>
                <li>Let <i>tag</i> be the result of calling the abstract operation <a
                    href="#sec-6.2.3">CanonicalizeLanguageTag</a> (defined in <a href="#sec-6.2.3">6.2.3</a>), passing <i>tag</i>
                    as the argument.</li>
                <li>If <i>tag</i> is not an element of <i>seen</i>, then append <i>tag</i> as the last element of
                    <i>seen</i>.</li>
              </ol>
            </li>
            <li>Increase <i>k</i> by 1.</li>
          </ol>
        </li>
        <li>Return <i>seen</i>.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> Non-normative summary: The abstract operation interprets the <var>locales</var> argument
        as an array and copies its elements into a <a href="#sec-5">List</a>, validating the elements as structurally valid
        language tags and canonicalizing them, and omitting duplicates.</p>
      </div>

      <div class="note">
        <p><span class="nh">NOTE</span> Requiring <var>kValue</var> to be a String or Object means that the Number value
        <b>NaN</b> will not be interpreted as the language tag <code>"nan"</code>, which stands for Min Nan Chinese.</p>
      </div>
    </section>

    <section id="sec-9.2.2">
      <h1><span class="secnum"><a href="#sec-9.2.2" title="link to this section">9.2.2</a></span> BestAvailableLocale
          (availableLocales, locale)</h1>

      <p>The BestAvailableLocale abstract operation compares the provided argument <var>locale</var>, which must be a String value
      with a structurally valid and canonicalized BCP 47 language tag, against the locales in <var>availableLocales</var> and
      returns either the longest non-empty prefix of <var>locale</var> that is an element of <var>availableLocales</var>, or
      <b>undefined</b> if there is no such element. It uses the fallback mechanism of RFC 4647, section 3.4. The following steps
      are taken:</p>

      <ol class="proc">
        <li>Let <i>candidate</i> be <i>locale</i>.</li>
        <li>Repeat
          <ol class="block">
            <li>If <i>availableLocales</i> contains an element equal to <i>candidate</i>, then return <i>candidate</i>.</li>
            <li>Let <i>pos</i> be the character index of the last occurrence of <code>"-"</code> (U+002D) within <i>candidate</i>.
                If that character does not occur, return <b>undefined</b>.</li>
            <li>If <i>pos</i> ≥ 2 and the character <code>"-"</code> occurs at index <i>pos</i>-2 of <i>candidate</i>, then
                decrease <i>pos</i> by 2.</li>
            <li>Let <i>candidate</i> be the substring of <i>candidate</i> from position 0, inclusive, to position <i>pos</i>,
                exclusive.</li>
          </ol>
        </li>
      </ol>
    </section>

    <section id="sec-9.2.3">
      <h1><span class="secnum"><a href="#sec-9.2.3" title="link to this section">9.2.3</a></span> LookupMatcher (availableLocales,
          requestedLocales)</h1>

      <p>The LookupMatcher abstract operation compares <var>requestedLocales</var>, which must be a <a href="#sec-5">List</a> as
      returned by <a href="#sec-9.2.1">CanonicalizeLocaleList</a>, against the locales in <var>availableLocales</var> and
      determines the best available language to meet the request. The following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>i</i> be 0.</li>
        <li>Let <i>len</i> be the number of elements in <i>requestedLocales</i>.</li>
        <li>Let <i>availableLocale</i> be <b>undefined</b>.</li>
        <li>Repeat while <i>i</i> &lt; <i>len</i> and <i>availableLocale</i> is <b>undefined</b>:
          <ol class="block">
            <li>Let <i>locale</i> be the element of <i>requestedLocales</i> at 0-origined list position <i>i</i>.</li>
            <li>Let <i>noExtensionsLocale</i> be the String value that is <i>locale</i> with all Unicode locale extension
                sequences removed.</li>
            <li>Let <i>availableLocale</i> be the result of calling the <a href="#sec-9.2.2">BestAvailableLocale</a> abstract
                operation (defined in <a href="#sec-9.2.2">9.2.2</a>) with arguments <i>availableLocales</i> and
                <i>noExtensionsLocale</i>.</li>
            <li>Increase <i>i</i> by 1.</li>
          </ol>
        </li>
        <li>Let <i>result</i> be a new <a href="#sec-5">Record</a>.</li>
        <li>If <i>availableLocale</i> is not <b>undefined</b>, then
          <ol class="block">
            <li>Set <i>result</i>.[[locale]] to <i>availableLocale</i>.</li>
            <li>If <i>locale</i> and <i>noExtensionsLocale</i> are not the same String value, then
              <ol class="block">
                <li>Let <i>extension</i> be the String value consisting of the first substring of <i>locale</i> that is a Unicode
                    locale extension sequence.</li>
                <li>Let <i>extensionIndex</i> be the character position of the initial <code>"-"</code> of the first Unicode
                    locale extension sequence within <i>locale</i>.</li>
                <li>Set <i>result</i>.[[extension]] to <i>extension</i>.</li>
                <li>Set <i>result</i>.[[extensionIndex]] to <i>extensionIndex</i>.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>Else
          <ol class="block">
            <li>Set <i>result</i>.[[locale]] to the value returned by the <a href="#sec-6.2.4">DefaultLocale</a> abstract
                operation (defined in <a href="#sec-6.2.4">6.2.4</a>).</li>
          </ol>
        </li>
        <li>Return <i>result</i>.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> The algorithm is based on the Lookup algorithm described in RFC 4647 section 3.4, but
        options specified through Unicode locale extension sequences are ignored in the lookup. Information about such
        subsequences is returned separately. The abstract operation returns a record with a [[locale]] field, whose value is the
        language tag of the selected locale, which must be an element of <var>availableLocales</var>. If the language tag of the
        request locale that led to the selected locale contained a Unicode locale extension sequence, then the returned record
        also contains an [[extension]] field whose value is the first Unicode locale extension sequence, and an [[extensionIndex]]
        field whose value is the index of the first Unicode locale extension sequence within the request locale language tag.</p>
      </div>
    </section>

    <section id="sec-9.2.4">
      <h1><span class="secnum"><a href="#sec-9.2.4" title="link to this section">9.2.4</a></span> BestFitMatcher
          (availableLocales, requestedLocales)</h1>

      <p>The BestFitMatcher abstract operation compares <var>requestedLocales</var>, which must be a <a href="#sec-5">List</a> as
      returned by <a href="#sec-9.2.1">CanonicalizeLocaleList</a>, against the locales in <var>availableLocales</var> and
      determines the best available language to meet the request. The algorithm is implementation dependent, but should produce
      results that a typical user of the requested locales would perceive as at least as good as those produced by the <a
      href="#sec-9.2.3">LookupMatcher</a> abstract operation. Options specified through Unicode locale extension sequences must be
      ignored by the algorithm. Information about such subsequences is returned separately. The abstract operation returns a
      record with a [[locale]] field, whose value is the language tag of the selected locale, which must be an element of
      <var>availableLocales</var>. If the language tag of the request locale that led to the selected locale contained a Unicode
      locale extension sequence, then the returned record also contains an [[extension]] field whose value is the first Unicode
      locale extension sequence, and an [[extensionIndex]] field whose value is the index of the first Unicode locale extension
      sequence within the request locale language tag.</p>
    </section>

    <section id="sec-9.2.5">
      <h1><span class="secnum"><a href="#sec-9.2.5" title="link to this section">9.2.5</a></span> ResolveLocale (availableLocales,
          requestedLocales, options, relevantExtensionKeys, localeData)</h1>

      <p>The ResolveLocale abstract operation compares a BCP 47 language priority list <var>requestedLocales</var> against the
      locales in <var>availableLocales</var> and determines the best available language to meet the request.
      <var>availableLocales</var> and <var>requestedLocales</var> must be provided as <a href="#sec-5">List</a> values,
      <var>options</var> as a <a href="#sec-5">Record</a>.</p>

      <p>The following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>matcher</i> be the value of <i>options</i>.[[localeMatcher]].</li>
        <li>If <i>matcher</i> is <code>"lookup"</code>, then
          <ol class="block">
            <li>Let <i>r</i> be the result of calling the <a href="#sec-9.2.3">LookupMatcher</a> abstract operation (defined in <a
                href="#sec-9.2.3">9.2.3</a>) with arguments <i>availableLocales</i> and <i>requestedLocales</i>.</li>
          </ol>
        </li>
        <li>Else
          <ol class="block">
            <li>Let <i>r</i> be the result of calling the <a href="#sec-9.2.4">BestFitMatcher</a> abstract operation (defined in
                <a href="#sec-9.2.4">9.2.4</a>) with arguments <i>availableLocales</i> and <i>requestedLocales</i>.</li>
          </ol>
        </li>
        <li>Let <i>foundLocale</i> be the value of <i>r</i>.[[locale]].</li>
        <li>If <i>r</i> has an [[extension]] field, then
          <ol class="block">
            <li>Let <i>extension</i> be the value of <i>r</i>.[[extension]].</li>
            <li>Let <i>extensionIndex</i> be the value of <i>r</i>.[[extensionIndex]].</li>
            <li>Let <i>split</i> be the standard built-in function object defined in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15.5.4.14">ES5, 15.5.4.14</a>.</li>
            <li>Let <i>extensionSubtags</i> be the result of calling the [[Call]] internal method of <i>split</i> with
                <i>extension</i> as the <b>this</b> value and an argument list containing the single item <code>"-"</code>.</li>
            <li>Let <i>extensionSubtagsLength</i> be the result of calling the [[Get]] internal method of <i>extensionSubtags</i>
                with argument <code>"length"</code>.</li>
          </ol>
        </li>
        <li>Let <i>result</i> be a new <a href="#sec-5">Record</a>.</li>
        <li>Set <i>result</i>.[[dataLocale]] to <i>foundLocale</i>.</li>
        <li>Let <i>supportedExtension</i> be <code>"-u"</code>.</li>
        <li>Let <i>i</i> be 0.</li>
        <li>Let <i>len</i> be the result of calling the [[Get]] internal method of <i>relevantExtensionKeys</i> with argument
            <code>"length"</code>.</li>
        <li>Repeat while <i>i</i> &lt; <i>len</i>:
          <ol class="block">
            <li>Let <i>key</i> be the result of calling the [[Get]] internal method of <i>relevantExtensionKeys</i> with argument
                ToString(<i>i</i>).</li>
            <li>Let <i>foundLocaleData</i> be the result of calling the [[Get]] internal method of <i>localeData</i> with the
                argument <i>foundLocale</i>.</li>
            <li>Let <i>keyLocaleData</i> be the result of calling the [[Get]] internal method of <i>foundLocaleData</i> with the
                argument <i>key</i>.</li>
            <li>Let <i>value</i> be the result of calling the [[Get]] internal method of <i>keyLocaleData</i> with argument
                <code>"0"</code>.</li>
            <li>Let <i>supportedExtensionAddition</i> be <code>""</code>.</li>
            <li>Let <i>indexOf</i> be the standard built-in function object defined in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15.4.4.14">ES5, 15.4.4.14</a>.</li>
            <li>If <i>extensionSubtags</i> is not <b>undefined</b>, then
              <ol class="block">
                <li>Let <i>keyPos</i> be the result of calling the [[Call]] internal method of <i>indexOf</i> with
                    <i>extensionSubtags</i> as the <b>this</b> value and an argument list containing the single item
                    <i>key</i>.</li>
                <li>If <i>keyPos</i> ≠ -1, then
                  <ol class="block">
                    <li>If <i>keyPos</i> + 1 &lt; <i>extensionSubtagsLength</i> and the length of the result of calling the
                        [[Get]] internal method of <i>extensionSubtags</i> with argument ToString(<i>keyPos</i> +1) is greater
                        than 2, then
                      <ol class="block">
                        <li>Let <i>requestedValue</i> be the result of calling the [[Get]] internal method of
                            <i>extensionSubtags</i> with argument ToString(<i>keyPos</i> + 1).</li>
                        <li>Let <i>valuePos</i> be the result of calling the [[Call]] internal method of <i>indexOf</i> with
                            <i>keyLocaleData</i> as the <b>this</b> value and an argument list containing the single item
                            <i>requestedValue</i>.</li>
                        <li>If <i>valuePos</i> ≠ -1, then
                          <ol class="block">
                            <li>Let <i>value</i> be <i>requestedValue</i>.</li>
                            <li>Let <i>supportedExtensionAddition</i> be the concatenation of <code>"-"</code>, <i>key</i>,
                                <code>"-"</code>, and <i>value</i>.</li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                    <li>Else
                      <ol class="block">
                        <li>Let <i>valuePos</i> be the result of calling the [[Call]] internal method of <i>indexOf</i> with
                            <i>keyLocaleData</i> as the <b>this</b> value and an argument list containing the single item
                            <code>"true"</code>.</li>
                        <li>If <i>valuePos</i> ≠ -1, then
                          <ol class="block">
                            <li>Let <i>value</i> be <code>"true"</code>.</li>
                          </ol>
                        </li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>If <i>options</i> has a field [[&lt;<i>key</i>&gt;]], then
              <ol class="block">
                <li>Let <i>optionsValue</i> be the value of <i>options</i>.[[&lt;<i>key</i>&gt;]].</li>
                <li>If the result of calling the [[Call]] internal method of <i>indexOf</i> with <i>keyLocaleData</i> as the
                    <b>this</b> value and an argument list containing the single item <i>optionsValue</i> is not -1, then
                  <ol class="block">
                    <li>If <i>optionsValue</i> is not equal to <i>value</i>, then
                      <ol class="block">
                        <li>Let <i>value</i> be <i>optionsValue</i>.</li>
                        <li>Let <i>supportedExtensionAddition</i> be <code>""</code>.</li>
                      </ol>
                    </li>
                  </ol>
                </li>
              </ol>
            </li>
            <li>Set <i>result</i>.[[&lt;<i>key</i>&gt;]] to <i>value</i>.</li>
            <li>Append <i>supportedExtensionAddition</i> to <i>supportedExtension</i>.</li>
            <li>Increase <i>i</i> by 1.</li>
          </ol>
        </li>
        <li>If the length of <i>supportedExtension</i> is greater than 2, then
          <ol class="block">
            <li>Let <i>preExtension</i> be the substring of <i>foundLocale</i> from position 0, inclusive, to position
                <i>extensionIndex</i>, exclusive.</li>
            <li>Let <i>postExtension</i> be the substring of <i>foundLocale</i> from position <i>extensionIndex</i> to the end of
                the string.</li>
            <li>Let <i>foundLocale</i> be the concatenation of <i>preExtension</i>, <i>supportedExtension</i>, and
                <i>postExtension</i>.</li>
          </ol>
        </li>
        <li>Set <i>result</i>.[[locale]] to <i>foundLocale</i>.</li>
        <li>Return <i>result</i>.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> Non-normative summary: Two algorithms are available to match the locales: the Lookup
        algorithm described in RFC 4647 section 3.4, and an implementation dependent best-fit algorithm. Independent of the locale
        matching algorithm, options specified through Unicode locale extension sequences are negotiated separately, taking the
        caller’s relevant extension keys and locale data as well as client-provided options into consideration. The abstract
        operation returns a record with a [[locale]] field whose value is the language tag of the selected locale, and fields for
        each key in <var>relevantExtensionKeys</var> providing the selected value for that key.</p>
      </div>
    </section>

    <section id="sec-9.2.6">
      <h1><span class="secnum"><a href="#sec-9.2.6" title="link to this section">9.2.6</a></span> LookupSupportedLocales
          (availableLocales, requestedLocales)</h1>

      <p>The LookupSupportedLocales abstract operation returns the subset of the provided BCP 47 language priority list
      <var>requestedLocales</var> for which <var>availableLocales</var> has a matching locale when using the BCP 47 Lookup
      algorithm. Locales appear in the same order in the returned list as in <var>requestedLocales</var>. The following steps are
      taken:</p>

      <ol class="proc">
        <li>Let <i>len</i> be the number of elements in <i>requestedLocales</i>.</li>
        <li>Let <i>subset</i> be a new empty <a href="#sec-5">List</a>.</li>
        <li>Let <i>k</i> be 0.</li>
        <li>Repeat while <i>k</i> &lt; <i>len</i>
          <ol class="block">
            <li>Let <i>locale</i> be the element of <i>requestedLocales</i> at 0-origined list position <i>k</i>.</li>
            <li>Let <i>noExtensionsLocale</i> be the String value that is <i>locale</i> with all Unicode locale extension
                sequences removed.</li>
            <li>Let <i>availableLocale</i> be the result of calling the <a href="#sec-9.2.2">BestAvailableLocale</a> abstract
                operation (defined in <a href="#sec-9.2.2">9.2.2</a>) with arguments <i>availableLocales</i> and
                <i>noExtensionsLocale</i>.</li>
            <li>If <i>availableLocale</i> is not <b>undefined</b>, then append <i>locale</i> to the end of <i>subset</i>.</li>
            <li>Increment <i>k</i> by 1.</li>
          </ol>
        </li>
        <li>Let <i>subsetArray</i> be a new Array object whose elements are the same values in the same order as the elements of
            <i>subset</i>.</li>
        <li>Return <i>subsetArray</i>.</li>
      </ol>
    </section>

    <section id="sec-9.2.7">
      <h1><span class="secnum"><a href="#sec-9.2.7" title="link to this section">9.2.7</a></span> BestFitSupportedLocales
          (availableLocales, requestedLocales)</h1>

      <p>The BestFitSupportedLocales abstract operation returns the subset of the provided BCP 47 language priority list
      <var>requestedLocales</var> for which <var>availableLocales</var> has a matching locale when using the Best Fit Matcher
      algorithm. Locales appear in the same order in the returned list as in <var>requestedLocales</var>. The steps taken are
      implementation dependent.</p>
    </section>

    <section id="sec-9.2.8">
      <h1><span class="secnum"><a href="#sec-9.2.8" title="link to this section">9.2.8</a></span> SupportedLocales
          (availableLocales, requestedLocales, options)</h1>

      <p>The SupportedLocales abstract operation returns the subset of the provided BCP 47 language priority list
      <var>requestedLocales</var> for which <var>availableLocales</var> has a matching locale. Two algorithms are available to
      match the locales: the Lookup algorithm described in RFC 4647 section 3.4, and an implementation dependent best-fit
      algorithm. Locales appear in the same order in the returned list as in <var>requestedLocales</var>. The following steps are
      taken:</p>

      <ol class="proc">
        <li>If <i>options</i> is not <b>undefined</b>, then
          <ol class="block">
            <li>Let <i>options</i> be ToObject(<i>options</i>).</li>
            <li>Let <i>matcher</i> be the result of calling the [[Get]] internal method of <i>options</i> with argument
                <code>"localeMatcher"</code>.</li>
            <li>If <i>matcher</i> is not <b>undefined</b>, then
              <ol class="block">
                <li>Let <i>matcher</i> be ToString(<i>matcher</i>).</li>
                <li>If <i>matcher</i> is not <code>"lookup"</code> or <code>"best fit"</code>, then throw a <b>RangeError</b>
                    exception.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>If <i>matcher</i> is <b>undefined</b> or <code>"best fit"</code>, then
          <ol class="block">
            <li>Let <i>subset</i> be the result of calling the <a href="#sec-9.2.7">BestFitSupportedLocales</a> abstract operation
                (defined in <a href="#sec-9.2.7">9.2.7</a>) with arguments <i>availableLocales</i> and
                <i>requestedLocales</i>.</li>
          </ol>
        </li>
        <li>Else
          <ol class="block">
            <li>Let <i>subset</i> be the result of calling the <a href="#sec-9.2.6">LookupSupportedLocales</a> abstract operation
                (defined in <a href="#sec-9.2.6">9.2.6</a>) with arguments <i>availableLocales</i> and
                <i>requestedLocales</i>.</li>
          </ol>
        </li>
        <li>For each named own property name <i>P</i> of <i>subset</i>,
          <ol class="block">
            <li>Let <i>desc</i> be the result of calling the [[GetOwnProperty]] internal method of <i>subset</i> with
                <i>P</i>.</li>
            <li>Set <i>desc</i>.[[Writable]] to <b>false</b>.</li>
            <li>Set <i>desc</i>.[[Configurable]] to <b>false</b>.</li>
            <li>Call the [[DefineOwnProperty]] internal method of <i>subset</i> with <i>P</i>, <i>desc</i>, and <b>true</b> as
                arguments.</li>
          </ol>
        </li>
        <li>Return <i>subset</i>.</li>
      </ol>
    </section>

    <section id="sec-9.2.9">
      <h1><span class="secnum"><a href="#sec-9.2.9" title="link to this section">9.2.9</a></span> GetOption (options, property,
          type, values, fallback)</h1>

      <p>The GetOption abstract operation extracts the value of the property named <var>property</var> from the provided
      <var>options</var> object, converts it to the required <var>type</var>, checks whether it is one of a <a
      href="#sec-5">List</a> of allowed <var>values</var>, and fills in a <var>fallback</var> value if necessary.</p>

      <ol class="proc">
        <li>Let <i>value</i> be the result of calling the [[Get]] internal method of <i>options</i> with argument
            <i>property</i>.</li>
        <li>If <i>value</i> is not <b>undefined</b>, then
          <ol class="block">
            <li>Assert: <i>type</i> is <code>"boolean"</code> or <code>"string"</code>.</li>
            <li>If <i>type</i> is <code>"boolean"</code>, then let <i>value</i> be ToBoolean(<i>value</i>).</li>
            <li>If <i>type</i> is <code>"string"</code>, then let <i>value</i> be ToString(<i>value</i>).</li>
            <li>If <i>values</i> is not <b>undefined</b>, then
              <ol class="block">
                <li>If <i>values</i> does not contain an element equal to <i>value</i>, then throw a <b>RangeError</b>
                    exception.</li>
              </ol>
            </li>
            <li>Return <i>value</i>.</li>
          </ol>
        </li>
        <li>Else return <i>fallback</i>.</li>
      </ol>
    </section>

    <section id="sec-9.2.10">
      <h1><span class="secnum"><a href="#sec-9.2.10" title="link to this section">9.2.10</a></span> GetNumberOption (options,
          property, minimum, maximum, fallback)</h1>

      <p>The GetNumberOption abstract operation extracts a property value from the provided options object, converts it to a
      Number value, checks whether it is in the allowed range, and fills in a fallback value if necessary.</p>

      <ol class="proc">
        <li>Let <i>value</i> be the result of calling the [[Get]] internal method of <i>options</i> with argument
            <i>property</i>.</li>
        <li>If <i>value</i> is not <b>undefined</b>, then
          <ol class="block">
            <li>Let <i>value</i> be ToNumber(<i>value</i>).</li>
            <li>If <i>value</i> is <b>NaN</b> or less than <i>minimum</i> or greater than <i>maximum</i>, throw a
                <b>RangeError</b> exception.</li>
            <li>Return floor(<i>value</i>).</li>
          </ol>
        </li>
        <li>Else return <i>fallback</i>.</li>
      </ol>
    </section>
  </section>
</section>

<section id="sec-10">
  <h1><span class="secnum"><a href="#sec-10" title="link to this section">10</a></span> Collator Objects</h1>

  <section id="sec-10.1">
    <h1><span class="secnum"><a href="#sec-10.1" title="link to this section">10.1</a></span> The Intl.Collator Constructor</h1>

    <p>The Intl.Collator constructor is a standard built-in property of the Intl object. Behaviour common to all service
    constructor properties of the Intl object is specified in <a href="#sec-9.1">9.1</a>.</p>

    <section id="sec-10.1.1">
      <h1><span class="secnum"><a href="#sec-10.1.1" title="link to this section">10.1.1</a></span> Initializing an Object as a
          Collator</h1>

      <section id="sec-10.1.1.1">
        <h1><span class="secnum"><a href="#sec-10.1.1.1" title="link to this section">10.1.1.1</a></span> InitializeCollator
            (collator, locales, options)</h1>

        <p>The abstract operation InitializeCollator accepts the arguments <var>collator</var> (which must be an object),
        <var>locales</var>, and <var>options</var>. It initializes <var>collator</var> as a Collator object.</p>

        <p>Several steps in the algorithm use values from the following table, which associates Unicode locale extension keys,
        property names, types, and allowable values:</p>

        <figure>
          <figcaption><span id="table-1">Table 1</span> – Collator options settable through both extension keys and options properties</figcaption>
          <table class="real-table">
            <tr>
              <th>Key</th>
              <th>Property</th>
              <th>Type</th>
              <th>Values</th>
            </tr>
            <tr>
              <td>kn</td>
              <td>numeric</td>
              <td>"boolean"</td>
              <td></td>
            </tr>
            <tr>
              <td>kf</td>
              <td>caseFirst</td>
              <td>"string"</td>
              <td>"upper", "lower", "false"</td>
            </tr>
          </table>
        </figure>

        <p>The following steps are taken:</p>

        <ol class="proc">
          <li>If <i>collator</i> has an [[initializedIntlObject]] internal property with value <b>true</b>, throw a
              <b>TypeError</b> exception.</li>
          <li>Set the [[initializedIntlObject]] internal property of <i>collator</i> to <b>true</b>.</li>
          <li>Let <i>requestedLocales</i> be the result of calling the <a href="#sec-9.2.1">CanonicalizeLocaleList</a> abstract
              operation (defined in <a href="#sec-9.2.1">9.2.1</a>) with argument <i>locales</i>.</li>
          <li>If <i>options</i> is <b>undefined</b>, then
            <ol class="block">
              <li>Let <i>options</i> be the result of creating a new object as if by the expression <code>new Object()</code>
                  where <code>Object</code> is the standard built-in constructor with that name.</li>
            </ol>
          </li>
          <li>Else
            <ol class="block">
              <li>Let <i>options</i> be ToObject(<i>options</i>).</li>
            </ol>
          </li>
          <li>Let <i>u</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation (defined in <a
              href="#sec-9.2.9">9.2.9</a>) with arguments <i>options</i>, <code>"usage"</code>, <code>"string"</code>, a <a
              href="#sec-5">List</a> containing the two String values <code>"sort"</code> and <code>"search"</code>, and
              <code>"sort"</code>.</li>
          <li>Set the [[usage]] internal property of <i>collator</i> to <i>u</i>.</li>
          <li>Let <i>Collator</i> be the standard built-in object that is the initial value of Intl.Collator.</li>
          <li>If <i>u</i> is <code>"sort"</code>, then let <i>localeData</i> be the value of the [[sortLocaleData]] internal
              property of <i>Collator</i>; else let <i>localeData</i> be the value of the [[searchLocaleData]] internal property
              of <i>Collator</i>.</li>
          <li>Let <i>opt</i> be a new <a href="#sec-5">Record</a>.</li>
          <li>Let <i>matcher</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with arguments
              <i>options</i>, <code>"localeMatcher"</code>, <code>"string"</code>, a <a href="#sec-5">List</a> containing the two
              String values <code>"lookup"</code> and <code>"best fit"</code>, and <code>"best fit"</code>.</li>
          <li>Set <i>opt</i>.[[localeMatcher]] to <i>matcher</i>.</li>
          <li>For each row in <a href="#table-1">Table 1</a>, except the header row, do:
            <ol class="block">
              <li>Let <i>key</i> be the name given in the Key column of the row.</li>
              <li>Let <i>value</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation, passing as
                  arguments <i>options</i>, the name given in the Property column of the row, the string given in the Type column
                  of the row, a <a href="#sec-5">List</a> containing the Strings given in the Values column of the row or
                  <b>undefined</b> if no strings are given, and <b>undefined</b>.</li>
              <li>If the string given in the Type column of the row is <code>"boolean"</code> and <i>value</i> is not
                  <b>undefined</b>, then
                <ol class="block">
                  <li>Let <i>value</i> be ToString(<i>value</i>).</li>
                </ol>
              </li>
              <li>Set <i>opt</i>.[[&lt;<i>key</i>&gt;]] to <i>value</i>.</li>
            </ol>
          </li>
          <li>Let <i>relevantExtensionKeys</i> be the value of the [[relevantExtensionKeys]] internal property of
              <i>Collator</i>.</li>
          <li>Let <i>r</i> be the result of calling the <a href="#sec-9.2.5">ResolveLocale</a> abstract operation (defined in <a
              href="#sec-9.2.5">9.2.5</a>) with the [[availableLocales]] internal property of <i>Collator</i>,
              <i>requestedLocales</i>, <i>opt</i>, <i>relevantExtensionKeys</i>, and <i>localeData</i>.</li>
          <li>Set the [[locale]] internal property of <i>collator</i> to the value of <i>r</i>.[[locale]].</li>
          <li>Let <i>i</i> be 0.</li>
          <li>Let <i>len</i> be the result of calling the [[Get]] internal method of <i>relevantExtensionKeys</i> with argument
              <code>"length"</code>.</li>
          <li>Repeat while <i>i</i> &lt; <i>len</i>:
            <ol class="block">
              <li>Let <i>key</i> be the result of calling the [[Get]] internal method of <i>relevantExtensionKeys</i> with
                  argument ToString(<i>i</i>).</li>
              <li>If <i>key</i> is <code>"co"</code>, then
                <ol class="block">
                  <li>Let <i>property</i> be <code>"collation"</code>.</li>
                  <li>Let <i>value</i> be the value of <i>r</i>.[[co]].</li>
                  <li>If <i>value</i> is <b>null</b>, then let <i>value</i> be <code>"default"</code>.</li>
                </ol>
              </li>
              <li>Else use the row of <a href="#table-1">Table 1</a> that contains the value of <i>key</i> in the Key column:
                <ol class="block">
                  <li>Let <i>property</i> be the name given in the Property column of the row.</li>
                  <li>Let <i>value</i> be the value of <i>r</i>.[[&lt;<i>key</i>&gt;]].</li>
                  <li>If the name given in the Type column of the row is <code>"boolean"</code>, then let <i>value</i> be the
                      result of comparing <i>value</i> with <code>"true"</code>.</li>
                </ol>
              </li>
              <li>Set the [[&lt;<i>property</i>&gt;]] internal property of <i>collator</i> to <i>value</i>.</li>
              <li>Increase <i>i</i> by 1.</li>
            </ol>
          </li>
          <li>Let <i>s</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with arguments
              <i>options</i>, <code>"sensitivity"</code>, <code>"string"</code>, a <a href="#sec-5">List</a> containing the four
              String values <code>"base"</code>, <code>"accent"</code>, <code>"case"</code>, and <code>"variant"</code>, and
              <b>undefined</b>.</li>
          <li>If <i>s</i> is <b>undefined</b>, then
            <ol class="block">
              <li>If <i>u</i> is <code>"sort"</code>, then let s be <code>"variant"</code>.</li>
              <li>Else
                <ol class="block">
                  <li>Let <i>dataLocale</i> be the value of <i>r</i>.[[dataLocale]].</li>
                  <li>Let <i>dataLocaleData</i> be the result of calling the [[Get]] internal operation of <i>localeData</i> with
                      argument <i>dataLocale</i>.</li>
                  <li>Let <i>s</i> be the result of calling the [[Get]] internal operation of <i>dataLocaleData</i> with argument
                      <code>"sensitivity"</code>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Set the [[sensitivity]] internal property of <i>collator</i> to <i>s</i>.</li>
          <li>Let <i>ip</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with arguments
              <i>options</i>, <code>"ignorePunctuation"</code>, <code>"boolean"</code>, <b>undefined</b>, and <b>false</b>.</li>
          <li>Set the [[ignorePunctuation]] internal property of <i>collator</i> to <i>ip</i>.</li>
          <li>Set the [[boundCompare]] internal property of <i>collator</i> to <b>undefined</b>.</li>
          <li>Set the [[initializedCollator]] internal property of <i>collator</i> to <b>true</b>.</li>
        </ol>
      </section>
    </section>

    <section id="sec-10.1.2">
      <h1><span class="secnum"><a href="#sec-10.1.2" title="link to this section">10.1.2</a></span> The Intl.Collator Constructor
          Called as a Function</h1>

      <section id="sec-10.1.2.1">
        <h1><span class="secnum"><a href="#sec-10.1.2.1" title="link to this section">10.1.2.1</a></span> Intl.Collator.call (this
            [, locales [, options]])</h1>

        <p>When <code>Intl.Collator</code> is called as a function rather than as a constructor, it accepts the optional arguments
        <var>locales</var> and <var>options</var> and takes the following steps:</p>

        <ol class="proc">
          <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
          <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
          <li>If <b>this</b> is the standard built-in Intl object defined in <a href="#sec-8">8</a> or <b>undefined</b>, then
            <ol class="block">
              <li>Return the result of creating a new object as if by the expression new <code>Intl.Collator(locales,
                  options)</code>, where <code>Intl.Collator</code> is the standard built-in constructor defined in <a
                  href="#sec-10.1.3">10.1.3</a>.</li>
            </ol>
          </li>
          <li>Let <i>obj</i> be the result of calling ToObject passing the <b>this</b> value as the argument.</li>
          <li>If the [[Extensible]] internal property of <i>obj</i> is <b>false</b>, throw a <b>TypeError</b> exception.</li>
          <li>Call the <a href="#sec-10.1.1.1">InitializeCollator</a> abstract operation (defined in <a
              href="#sec-10.1.1.1">10.1.1.1</a>) with arguments <i>obj</i>, <i>locales</i>, and <i>options</i>.</li>
          <li>Return <i>obj</i>.</li>
        </ol>
      </section>
    </section>

    <section id="sec-10.1.3">
      <h1><span class="secnum"><a href="#sec-10.1.3" title="link to this section">10.1.3</a></span> The Intl.Collator Constructor
          Used in a new Expression</h1>

      <section id="sec-10.1.3.1">
        <h1><span class="secnum"><a href="#sec-10.1.3.1" title="link to this section">10.1.3.1</a></span> new Intl.Collator
            ([locales [, options]])</h1>

        <p>When <code>Intl.Collator</code> is called as part of a <code>new</code> expression, it is a constructor: it initializes
        the newly created object.</p>

        <p>The [[Prototype]] internal property of the newly constructed object is set to the original Intl.Collator prototype
        object, the one that is the initial value of <code>Intl.Collator.prototype</code> (<a href="#sec-10.2.1">10.2.1</a>).</p>

        <p>The [[Extensible]] internal property of the newly constructed object is set to <b>true</b>.</p>

        <p>Collator-specific properties of the newly constructed object are set using the following steps:</p>

        <ol class="proc">
          <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
          <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
          <li>Call the <a href="#sec-10.1.1.1">InitializeCollator</a> abstract operation (defined in <a
              href="#sec-10.1.1.1">10.1.1.1</a>), passing as arguments the newly constructed object, <i>locales</i>, and
              <i>options</i>.</li>
        </ol>
      </section>
    </section>
  </section>

  <section id="sec-10.2">
    <h1><span class="secnum"><a href="#sec-10.2" title="link to this section">10.2</a></span> Properties of the Intl.Collator
        Constructor</h1>

    <p>Besides the internal properties and the <code>length</code> property (whose value is 0), the Intl.Collator constructor has
    the following properties:</p>

    <section id="sec-10.2.1">
      <h1><span class="secnum"><a href="#sec-10.2.1" title="link to this section">10.2.1</a></span> Intl.Collator.prototype</h1>

      <p>The value of <code>Intl.Collator.prototype</code> is the built-in Intl.Collator prototype object (<a
      href="#sec-10.3">10.3</a>).</p>

      <p>This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }.</p>
    </section>

    <section id="sec-10.2.2">
      <h1><span class="secnum"><a href="#sec-10.2.2" title="link to this section">10.2.2</a></span>
          Intl.Collator.supportedLocalesOf (locales [, options])</h1>

      <p>When the <code>supportedLocalesOf</code> method of Intl.Collator is called, the following steps are taken:</p>

      <ol class="proc">
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>availableLocales</i> be the value of the [[availableLocales]] internal property of the standard built-in object
            that is the initial value of Intl.Collator.</li>
        <li>Let <i>requestedLocales</i> be the result of calling the <a href="#sec-9.2.1">CanonicalizeLocaleList</a> abstract
            operation (defined in <a href="#sec-9.2.1">9.2.1</a>) with argument <i>locales</i>.</li>
        <li>Return the result of calling the <a href="#sec-9.2.8">SupportedLocales</a> abstract operation (defined in <a
            href="#sec-9.2.8">9.2.8</a>) with arguments <i>availableLocales</i>, <i>requestedLocales</i>, and <i>options</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>supportedLocalesOf</code> method is <code>1</code>.</p>
    </section>

    <section id="sec-10.2.3">
      <h1><span class="secnum"><a href="#sec-10.2.3" title="link to this section">10.2.3</a></span> Internal Properties</h1>

      <p>The value of the [[availableLocales]] internal property is implementation defined within the constraints described in <a
      href="#sec-9.1">9.1</a>.</p>

      <p>The value of the [[relevantExtensionKeys]] internal property is an array that must include the element <code>"co"</code>,
      may include any or all of the elements <code>"kn"</code> and <code>"kf"</code>, and must not include any other elements.</p>

      <div class="note">
        <p><span class="nh">NOTE</span> Unicode Technical Standard 35 describes ten locale extension keys that are relevant to
        collation: "co" for collator usage and specializations, "ka" for alternate handling, "kb" for backward second level
        weight, "kc" for case level, "kn" for numeric, "kh" for hiragana quaternary, "kk" for normalization, "kf" for case first,
        "kr" for reordering, "ks" for collation strength, and "vt" for variable top. Collator, however, requires that the usage is
        specified through the usage property of the options object, alternate handling through the ignorePunctuation property of
        the options object, and case level and the strength through the sensitivity property of the options object. The "co" key
        in the language tag is supported only for collator specializations, and the keys "kb", "kh", "kk", "kr", and "vt" are not
        allowed in this version of the Internationalization API. Support for the remaining keys is implementation dependent.</p>
      </div>

      <p>The values of the [[sortLocaleData]] and [[searchLocaleData]] internal properties are implementation defined within the
      constraints described in <a href="#sec-9.1">9.1</a> and the following additional constraints:</p>

      <ul>
        <li>
          <p>The first element of [[sortLocaleData]][locale].co and [[searchLocaleData]][locale].co must be null for all locale
          values.</p>
        </li>

        <li>
          <p>The values <code>"standard"</code> and <code>"search"</code> must not be used as elements in any
          [[sortLocaleData]][locale].co and [[searchLocaleData]][locale].co array.</p>
        </li>

        <li>
          <p>[[searchLocaleData]][locale] must have a sensitivity property with a String value equal to <code>"base"</code>,
          <code>"accent"</code>, <code>"case"</code>, or <code>"variant"</code> for all locale values.</p>
        </li>
      </ul>
    </section>
  </section>

  <section id="sec-10.3">
    <h1><span class="secnum"><a href="#sec-10.3" title="link to this section">10.3</a></span> Properties of the Intl.Collator
        Prototype Object</h1>

    <p>The Intl.Collator prototype object is itself an Intl.Collator instance as specified in <a href="#sec-10.4">10.4</a>, whose
    internal properties are set as if it had been constructed by the expression <code>Intl.Collator.call({})</code> with the
    standard built-in values of Intl.Collator and Function.prototype.call.</p>

    <p>In the following descriptions of functions that are properties or [[Get]] attributes of properties of the Intl.Collator
    prototype object, the phrase “this Collator object” refers to the object that is the <b>this</b> value for the invocation of
    the function; a <b>TypeError</b> exception is thrown if the this value is not an object or an object that does not have an
    [[initializedCollator]] internal property with value <b>true</b>.</p>

    <section id="sec-10.3.1">
      <h1><span class="secnum"><a href="#sec-10.3.1" title="link to this section">10.3.1</a></span>
          Intl.Collator.prototype.constructor</h1>

      <p>The initial value of <code>Intl.Collator.prototype.constructor</code> is the built-in Intl.Collator constructor.</p>
    </section>

    <section id="sec-10.3.2">
      <h1><span class="secnum"><a href="#sec-10.3.2" title="link to this section">10.3.2</a></span>
          Intl.Collator.prototype.compare</h1>

      <p>This named accessor property returns a function that compares two strings according to the sort order of this Collator
      object.</p>

      <p>The value of the [[Get]] attribute is a function that takes the following steps:</p>

      <ol class="proc">
        <li>If the [[boundCompare]] internal property of this Collator object is <b>undefined</b>, then:
          <ol class="block">
            <li>Let <i>F</i> be a Function object, with internal properties set as specified for built-in functions in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15">ES5, 15</a>, or successor, and the length property set
                to 2, that takes the arguments <i>x</i> and <i>y</i> and performs the following steps:
              <ol class="block">
                <li>If <i>x</i> is not provided, then let <i>x</i> be <b>undefined</b>.</li>
                <li>If <i>y</i> is not provided, then let <i>y</i> be <b>undefined</b>.</li>
                <li>Let <i>X</i> be ToString(<i>x</i>).</li>
                <li>Let <i>Y</i> be ToString(<i>y</i>).</li>
                <li>Return the result of calling the <a href="#CompareStrings">CompareStrings</a> abstract operation (defined
                    below) with arguments <b>this</b>, <i>X</i>, and <i>Y</i>.</li>
              </ol>
            </li>
            <li>Let <i>bind</i> be the standard built-in function object defined in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15.3.4.5">ES5, 15.3.4.5</a>.</li>
            <li>Let <i>bc</i> be the result of calling the [[Call]] internal method of <i>bind</i> with <i>F</i> as the
                <b>this</b> value and an argument <a href="#sec-5">List</a> containing the single item <b>this</b>.</li>
            <li>Set the [[boundCompare]] internal property of this Collator object to <i>bc</i>.</li>
          </ol>
        </li>
        <li>Return the value of the [[boundCompare]] internal property of this Collator object.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> The function returned by [[Get]] is bound to this Collator object so that it can be passed
        directly to Array.prototype.sort or other functions.</p>
      </div>

      <p>The value of the [[Set]] attribute is <b>undefined</b>.</p>

      <p>When the <span id="CompareStrings">CompareStrings</span> abstract operation is called with arguments <var>collator</var>
      (which must be an object initialized as a Collator), <var>x</var> and <var>y</var> (which must be String values), it returns
      a Number other than <b>NaN</b> that represents the result of a locale-sensitive String comparison of <var>x</var> with
      <var>y</var>. The two Strings are compared in an implementation-defined fashion. The result is intended to order String
      values in the sort order specified by the effective locale and collation options computed during construction of
      <var>collator</var>, and will be negative, zero, or positive, depending on whether <var>x</var> comes before <var>y</var> in
      the sort order, the Strings are equal under the sort order, or <var>x</var> comes after <var>y</var> in the sort order,
      respectively. String values must be interpreted as UTF-16 code unit sequences, and a surrogate pair (a code unit in the
      range 0xD800 to 0xDBFF followed by a code unit in the range 0xDC00 to 0xDFFF) within a string must be interpreted as the
      corresponding code point.</p>

      <p>The sensitivity of <var>collator</var> is interpreted as follows:</p>

      <ul>
        <li>
          <p>base: Only strings that differ in base letters compare as unequal. Examples: a ≠ b, a = á, a = A.</p>
        </li>

        <li>
          <p>accent: Only strings that differ in base letters or accents and other diacritic marks compare as unequal. Examples: a
          ≠ b, a ≠ á, a = A.</p>
        </li>

        <li>
          <p>case: Only strings that differ in base letters or case compare as unequal. Examples: a ≠ b, a = á, a ≠ A.</p>
        </li>

        <li>
          <p>variant: Strings that differ in base letters, accents and other diacritic marks, or case compare as unequal. Other
          differences may also be taken into consideration. Examples: a ≠ b, a ≠ á, a ≠ A.</p>
        </li>
      </ul>

      <div class="note">
        <p><span class="nh">NOTE</span> In some languages, certain letters with diacritic marks are considered base letters. For
        example, in Swedish, “ö” is a base letter that’s different from “o”.</p>
      </div>

      <p>If the collator is set to ignore punctuation, then strings that differ only in punctuation compare as equal.</p>

      <p>For the interpretation of options settable through extension keys, see Unicode Technical Standard 35.</p>

      <p>The <a href="#CompareStrings">CompareStrings</a> abstract operation with any given <var>collator</var> argument, if
      considered as a function of the remaining two arguments <var>x</var> and <var>y</var>, must be a consistent comparison
      function (as defined in <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.4.4.11">ES5, 15.4.4.11</a>) on the set
      of all Strings.</p>

      <p>The actual return values are implementation-defined to permit implementers to encode additional information in the value.
      The method is required to return 0 when comparing Strings that are considered canonically equivalent by the Unicode
      standard.</p>

      <div class="note">
        <p><span class="nh">NOTE 1</span> It is recommended that the <a href="#CompareStrings">CompareStrings</a> abstract
        operation be implemented following Unicode Technical Standard 10, Unicode Collation Algorithm (available at <a
        href="http://unicode.org/reports/tr10/">http://unicode.org/reports/tr10/</a>), using tailorings for the effective locale
        and collation options of <var>collator</var>. It is recommended that implementations use the tailorings provided by the
        Common Locale Data Repository (available at <a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>).</p>
      </div>

      <div class="note">
        <p><span class="nh">NOTE 2</span> Applications should not assume that the behaviour of the <a
        href="#CompareStrings">CompareStrings</a> abstract operation for Collator instances with the same resolved options will
        remain the same for different versions of the same implementation.</p>
      </div>
    </section>

    <section id="sec-10.3.3">
      <h1><span class="secnum"><a href="#sec-10.3.3" title="link to this section">10.3.3</a></span>
          Intl.Collator.prototype.resolvedOptions ()</h1>

      <p>This function provides access to the locale and collation options computed during initialization of the object.</p>

      <p>The function returns a new object whose properties and attributes are set as if constructed by an object literal
      assigning to each of the following properties the value of the corresponding internal property of this Collator object (see
      <a href="#sec-10.4">10.4</a>): locale, usage, sensitivity, ignorePunctuation, collation, as well as those properties shown
      in <a href="#table-1">Table 1</a> whose keys are included in the [[relevantExtensionKeys]] internal property of the standard
      built-in object that is the initial value of Intl.Collator.</p>
    </section>
  </section>

  <section id="sec-10.4">
    <h1><span class="secnum"><a href="#sec-10.4" title="link to this section">10.4</a></span> Properties of Intl.Collator
        Instances</h1>

    <p>Intl.Collator instances inherit properties from the Intl.Collator prototype object. Their [[Class]] internal property value
    is <code>"Object"</code>.</p>

    <p>Intl.Collator instances and other objects that have been successfully initialized as a Collator have
    [[initializedIntlObject]] and [[initializedCollator]] internal properties whose values are <b>true</b>.</p>

    <p>Objects that have been successfully initialized as a Collator also have several internal properties that are computed by
    the constructor:</p>

    <ul>
      <li>
        <p>[[locale]] is a String value with the language tag of the locale whose localization is used for collation.</p>
      </li>

      <li>
        <p>[[usage]] is one of the String values <code>"sort"</code> or <code>"search"</code>, identifying the collator usage.</p>
      </li>

      <li>
        <p>[[sensitivity]] is one of the String values <code>"base"</code>, <code>"accent"</code>, <code>"case"</code>, or
        <code>"variant"</code>, identifying the collator’s sensitivity.</p>
      </li>

      <li>
        <p>[[ignorePunctuation]] is a Boolean value, specifying whether punctuation should be ignored in comparisons.</p>
      </li>

      <li>
        <p>[[collation]] is a String value with the “type” given in Unicode Technical Standard 35 for the collation, except that
        the values <code>"standard"</code> and <code>"search"</code> are not allowed, while the value <code>"default"</code> is
        allowed.</p>
      </li>
    </ul>

    <p>Objects that have been successfully initialized as a Collator also have the following internal properties if the key
    corresponding to the name of the internal property in <a href="#table-1">Table 1</a> is included in the
    [[relevantExtensionKeys]] internal property of Intl.Collator:</p>

    <ul>
      <li>
        <p>[[numeric]] is a Boolean value, specifying whether numeric sorting is used.</p>
      </li>

      <li>
        <p>[[caseFirst]] is a String value; allowed values are specified in <a href="#table-1">Table 1</a>.</p>
      </li>
    </ul>

    <p>Finally, objects that have been successfully initialized as a Collator have a [[boundCompare]] internal property that
    caches the function returned by the compare accessor (<a href="#sec-10.3.2">10.3.2</a>).</p>
  </section>
</section>

<section id="sec-11">
  <h1><span class="secnum"><a href="#sec-11" title="link to this section">11</a></span> NumberFormat Objects</h1>

  <section id="sec-11.1">
    <h1><span class="secnum"><a href="#sec-11.1" title="link to this section">11.1</a></span> The Intl.NumberFormat
        Constructor</h1>

    <p>The NumberFormat constructor is a standard built-in property of the Intl object. Behaviour common to all service
    constructor properties of the Intl object is specified in <a href="#sec-9.1">9.1</a>.</p>

    <section id="sec-11.1.1">
      <h1><span class="secnum"><a href="#sec-11.1.1" title="link to this section">11.1.1</a></span> Initializing an Object as a
          NumberFormat</h1>

      <section id="sec-11.1.1.1">
        <h1><span class="secnum"><a href="#sec-11.1.1.1" title="link to this section">11.1.1.1</a></span> InitializeNumberFormat
            (numberFormat, locales, options)</h1>

        <p>The abstract operation InitializeNumberFormat accepts the arguments <var>numberFormat</var> (which must be an object),
        <var>locales</var>, and <var>options</var>. It initializes <var>numberFormat</var> as a NumberFormat object.</p>

        <p>The following steps are taken:</p>

        <ol class="proc">
          <li>If <i>numberFormat</i> has an [[initializedIntlObject]] internal property with value <b>true</b>, throw a
              <b>TypeError</b> exception.</li>
          <li>Set the [[initializedIntlObject]] internal property of <i>numberFormat</i> to <b>true</b>.</li>
          <li>Let <i>requestedLocales</i> be the result of calling the <a href="#sec-9.2.1">CanonicalizeLocaleList</a> abstract
              operation (defined in <a href="#sec-9.2.1">9.2.1</a>) with argument <i>locales</i>.</li>
          <li>If <i>options</i> is <b>undefined</b>, then
            <ol class="block">
              <li>Let <i>options</i> be the result of creating a new object as if by the expression <code>new Object()</code>
                  where <code>Object</code> is the standard built-in constructor with that name.</li>
            </ol>
          </li>
          <li>Else
            <ol class="block">
              <li>Let <i>options</i> be ToObject(<i>options</i>).</li>
            </ol>
          </li>
          <li>Let <i>opt</i> be a new <a href="#sec-5">Record</a>.</li>
          <li>Let <i>matcher</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation (defined in <a
              href="#sec-9.2.9">9.2.9</a>) with the arguments <i>options</i>, <code>"localeMatcher"</code>, <code>"string"</code>,
              a <a href="#sec-5">List</a> containing the two String values <code>"lookup"</code> and <code>"best fit"</code>, and
              <code>"best fit"</code>.</li>
          <li>Set <i>opt</i>.[[localeMatcher]] to <i>matcher</i>.</li>
          <li>Let <i>NumberFormat</i> be the standard built-in object that is the initial value of Intl.NumberFormat.</li>
          <li>Let <i>localeData</i> be the value of the [[localeData]] internal property of <i>NumberFormat</i>.</li>
          <li>Let <i>r</i> be the result of calling the <a href="#sec-9.2.5">ResolveLocale</a> abstract operation (defined in <a
              href="#sec-9.2.5">9.2.5</a>) with the [[availableLocales]] internal property of <i>NumberFormat</i>,
              <i>requestedLocales</i>, <i>opt</i>, the [[relevantExtensionKeys]] internal property of <i>NumberFormat</i>, and
              <i>localeData</i>.</li>
          <li>Set the [[locale]] internal property of <i>numberFormat</i> to the value of <i>r</i>.[[locale]].</li>
          <li>Set the [[numberingSystem]] internal property of <i>numberFormat</i> to the value of <i>r</i>.[[nu]].</li>
          <li>Let <i>dataLocale</i> be the value of <i>r</i>.[[dataLocale]].</li>
          <li>Let <i>s</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with the arguments
              <i>options</i>, <code>"style"</code>, <code>"string"</code>, a <a href="#sec-5">List</a> containing the three String
              values <code>"decimal"</code>, <code>"percent"</code>, and <code>"currency"</code>, and <code>"decimal"</code>.</li>
          <li>Set the [[style]] internal property of <i>numberFormat</i> to <i>s</i>.</li>
          <li>Let <i>c</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with the arguments
              <i>options</i>, <code>"currency"</code>, <code>"string"</code>, <b>undefined</b>, and <b>undefined</b>.</li>
          <li>If <i>c</i> is not undefined and the result of calling the <a href="#sec-6.3.1">IsWellFormedCurrencyCode</a>
              abstract operation (defined in <a href="#sec-6.3.1">6.3.1</a>) with argument <i>c</i> is <b>false</b>, then throw a
              <b>RangeError</b> exception.</li>
          <li>If <i>s</i> is <code>"currency"</code> and <i>c</i> is <b>undefined</b>, throw a <b>TypeError</b> exception.</li>
          <li>If <i>s</i> is <code>"currency"</code>, then
            <ol class="block">
              <li>Let <i>c</i> be the result of converting <i>c</i> to upper case as specified in <a href="#sec-6.1">6.1</a>.</li>
              <li>Set the [[currency]] internal property of <i>numberFormat</i> to <i>c</i>.</li>
              <li>Let <i>cDigits</i> be the result of calling the CurrencyDigits abstract operation (defined below) with argument
                  <i>c</i>.</li>
            </ol>
          </li>
          <li>Let <i>cd</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with the arguments
              <i>options</i>, <code>"currencyDisplay"</code>, <code>"string"</code>, a <a href="#sec-5">List</a> containing the
              three String values <code>"code"</code>, <code>"symbol"</code>, and <code>"name"</code>, and
              <code>"symbol"</code>.</li>
          <li>If <i>s</i> is <code>"currency"</code>, then set the [[currencyDisplay]] internal property of <i>numberFormat</i> to
              <i>cd</i>.</li>
          <li>Let <i>mnid</i> be the result of calling the <a href="#sec-9.2.10">GetNumberOption</a> abstract operation (defined
              in <a href="#sec-9.2.10">9.2.10</a>) with arguments <i>options</i>, <code>"minimumIntegerDigits"</code>, 1, 21, and
              1.</li>
          <li>Set the [[minimumIntegerDigits]] internal property of <i>numberFormat</i> to <i>mnid</i>.</li>
          <li>If <i>s</i> is <code>"currency"</code>, then let <i>mnfdDefault</i> be <i>cDigits</i>; else let <i>mnfdDefault</i>
              be 0.</li>
          <li>Let <i>mnfd</i> be the result of calling the <a href="#sec-9.2.10">GetNumberOption</a> abstract operation with
              arguments <i>options</i>, <code>"minimumFractionDigits"</code>, 0, 20, and <i>mnfdDefault</i>.</li>
          <li>Set the [[minimumFractionDigits]] internal property of <i>numberFormat</i> to <i>mnfd</i>.</li>
          <li>If <i>s</i> is <code>"currency"</code>, then let <i>mxfdDefault</i> be max(<i>mnfd</i>, <i>cDigits</i>); else if
              <i>s</i> is <code>"percent"</code>, then let <i>mxfdDefault</i> be max(<i>mnfd</i>, 0); else let <i>mxfdDefault</i>
              be max(<i>mnfd</i>, 3).</li>
          <li>Let <i>mxfd</i> be the result of calling the <a href="#sec-9.2.10">GetNumberOption</a> abstract operation with
              arguments <i>options</i>, <code>"maximumFractionDigits"</code>, <i>mnfd</i>, 20, and <i>mxfdDefault</i>.</li>
          <li>Set the [[maximumFractionDigits]] internal property of <i>numberFormat</i> to <i>mxfd</i>.</li>
          <li>Let <i>mnsd</i> be the result of calling the [[Get]] internal method of <i>options</i> with argument
              <code>"minimumSignificantDigits"</code>.</li>
          <li>Let <i>mxsd</i> be the result of calling the [[Get]] internal method of <i>options</i> with argument
              <code>"maximumSignificantDigits"</code>.</li>
          <li>If <i>mnsd</i> is not <b>undefined</b> or <i>mxsd</i> is not <b>undefined</b>, then:
            <ol class="block">
              <li>Let <i>mnsd</i> be the result of calling the <a href="#sec-9.2.10">GetNumberOption</a> abstract operation with
                  arguments <i>options</i>, <code>"minimumSignificantDigits"</code>, 1, 21, and 1.</li>
              <li>Let <i>mxsd</i> be the result of calling the <a href="#sec-9.2.10">GetNumberOption</a> abstract operation with
                  arguments <i>options</i>, <code>"maximumSignificantDigits"</code>, <i>mnsd</i>, 21, and 21.</li>
              <li>Set the [[minimumSignificantDigits]] internal property of <i>numberFormat</i> to <i>mnsd</i>, and the
                  [[maximumSignificantDigits]] internal property of <i>numberFormat</i> to <i>mxsd</i>.</li>
            </ol>
          </li>
          <li>Let <i>g</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with the arguments
              <i>options</i>, <code>"useGrouping"</code>, <code>"boolean"</code>, <b>undefined</b>, and <b>true</b>.</li>
          <li>Set the [[useGrouping]] internal property of <i>numberFormat</i> to <i>g</i>.</li>
          <li>Let <i>dataLocaleData</i> be the result of calling the [[Get]] internal method of <i>localeData</i> with argument
              <i>dataLocale</i>.</li>
          <li>Let <i>patterns</i> be the result of calling the [[Get]] internal method of <i>dataLocaleData</i> with argument
              <code>"patterns"</code>.</li>
          <li>Assert: <i>patterns</i> is an object (see <a href="#sec-11.2.3">11.2.3</a>).</li>
          <li>Let <i>stylePatterns</i> be the result of calling the [[Get]] internal method of <i>patterns</i> with argument
              <i>s</i>.</li>
          <li>Set the [[positivePattern]] internal property of <i>numberFormat</i> to the result of calling the [[Get]] internal
              method of <i>stylePatterns</i> with the argument <code>"positivePattern"</code>.</li>
          <li>Set the [[negativePattern]] internal property of <i>numberFormat</i> to the result of calling the [[Get]] internal
              method of <i>stylePatterns</i> with the argument <code>"negativePattern"</code>.</li>
          <li>Set the [[boundFormat]] internal property of <i>numberFormat</i> to <b>undefined</b>.</li>
          <li>Set the [[initializedNumberFormat]] internal property of <i>numberFormat</i> to <b>true</b>.</li>
        </ol>

        <p>When the CurrencyDigits abstract operation is called with an argument <var>currency</var> (which must be an upper case
        String value), the following steps are taken:</p>

        <ol class="proc">
          <li>If the ISO 4217 currency and funds code list contains <i>currency</i> as an alphabetic code, then return the minor
              unit value corresponding to the <i>currency</i> from the list; else return 2.</li>
        </ol>
      </section>
    </section>

    <section id="sec-11.1.2">
      <h1><span class="secnum"><a href="#sec-11.1.2" title="link to this section">11.1.2</a></span> The Intl.NumberFormat
          Constructor Called as a Function</h1>

      <section id="sec-11.1.2.1">
        <h1><span class="secnum"><a href="#sec-11.1.2.1" title="link to this section">11.1.2.1</a></span> Intl.NumberFormat.call
            (this [, locales [, options]])</h1>

        <p>When <code>Intl.NumberFormat</code> is called as a function rather than as a constructor, it accepts the optional
        arguments <var>locales</var> and <var>options</var> and takes the following steps:</p>

        <ol class="proc">
          <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
          <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
          <li>If <b>this</b> is the standard built-in Intl object defined in <a href="#sec-8">8</a> or <b>undefined</b>, then
            <ol class="block">
              <li>Return the result of creating a new object as if by the expression <code>new Intl.NumberFormat(locales,
                  options)</code>, where <code>Intl.NumberFormat</code> is the standard built-in constructor defined in <a
                  href="#sec-11.1.3">11.1.3</a>.</li>
            </ol>
          </li>
          <li>Let <i>obj</i> be the result of calling ToObject passing the <b>this</b> value as the argument.</li>
          <li>If the [[Extensible]] internal property of <i>obj</i> is <b>false</b>, throw a <b>TypeError</b> exception.</li>
          <li>Call the <a href="#sec-11.1.1.1">InitializeNumberFormat</a> abstract operation (defined in <a
              href="#sec-11.1.1.1">11.1.1.1</a>) with arguments <i>obj</i>, <i>locales</i>, and <i>options</i>.</li>
          <li>Return <i>obj</i>.</li>
        </ol>
      </section>
    </section>

    <section id="sec-11.1.3">
      <h1><span class="secnum"><a href="#sec-11.1.3" title="link to this section">11.1.3</a></span> The Intl.NumberFormat
          Constructor Used in a new Expression</h1>

      <section id="sec-11.1.3.1">
        <h1><span class="secnum"><a href="#sec-11.1.3.1" title="link to this section">11.1.3.1</a></span> new Intl.NumberFormat
            ([locales [, options]])</h1>

        <p>When <code>Intl.NumberFormat</code> is called as part of a <code>new</code> expression, it is a constructor: it
        initializes the newly created object.</p>

        <p>The [[Prototype]] internal property of the newly constructed object is set to the original Intl.NumberFormat prototype
        object, the one that is the initial value of <code>Intl.NumberFormat.prototype</code> (<a
        href="#sec-11.2.1">11.2.1</a>).</p>

        <p>The [[Extensible]] internal property of the newly constructed object is set to <b>true</b>.</p>

        <p>NumberFormat-specific properties of the newly constructed object are set using the following steps:</p>

        <ol class="proc">
          <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
          <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
          <li>Call the <a href="#sec-11.1.1.1">InitializeNumberFormat</a> abstract operation (defined in <a
              href="#sec-11.1.1.1">11.1.1.1</a>), passing as arguments the newly constructed object, <i>locales</i>, and
              <i>options</i>.</li>
        </ol>
      </section>
    </section>
  </section>

  <section id="sec-11.2">
    <h1><span class="secnum"><a href="#sec-11.2" title="link to this section">11.2</a></span> Properties of the Intl.NumberFormat
        Constructor</h1>

    <p>Besides the internal properties and the <code>length</code> property (whose value is 0), the Intl.NumberFormat constructor
    has the following properties:</p>

    <section id="sec-11.2.1">
      <h1><span class="secnum"><a href="#sec-11.2.1" title="link to this section">11.2.1</a></span>
          Intl.NumberFormat.prototype</h1>

      <p>The value of <code>Intl.NumberFormat.prototype</code> is the built-in Intl.NumberFormat prototype object (<a
      href="#sec-11.3">11.3</a>).</p>

      <p>This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }.</p>
    </section>

    <section id="sec-11.2.2">
      <h1><span class="secnum"><a href="#sec-11.2.2" title="link to this section">11.2.2</a></span>
          Intl.NumberFormat.supportedLocalesOf (locales [, options])</h1>

      <p>When the <code>supportedLocalesOf</code> method of Intl.NumberFormat is called, the following steps are taken:</p>

      <ol class="proc">
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>availableLocales</i> be the value of the [[availableLocales]] internal property of the standard built-in object
            that is the initial value of Intl.NumberFormat.</li>
        <li>Let <i>requestedLocales</i> be the result of calling the <a href="#sec-9.2.1">CanonicalizeLocaleList</a> abstract
            operation (defined in <a href="#sec-9.2.1">9.2.1</a>) with argument <i>locales</i>.</li>
        <li>Return the result of calling the <a href="#sec-9.2.8">SupportedLocales</a> abstract operation (defined in <a
            href="#sec-9.2.8">9.2.8</a>) with arguments <i>availableLocales</i>, <i>requestedLocales</i>, and <i>options</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>supportedLocalesOf</code> method is <code>1</code>.</p>
    </section>

    <section id="sec-11.2.3">
      <h1><span class="secnum"><a href="#sec-11.2.3" title="link to this section">11.2.3</a></span> Internal Properties</h1>

      <p>The value of the [[availableLocales]] internal property is implementation defined within the constraints described in <a
      href="#sec-9.1">9.1</a>.</p>

      <p>The value of the [[relevantExtensionKeys]] internal property is <code>["nu"]</code>.</p>

      <div class="note">
        <p><span class="nh">NOTE</span> Unicode Technical Standard 35 describes two locale extension keys that are relevant to
        number formatting, "nu" for numbering system and "cu" for currency. Intl.NumberFormat, however, requires that the currency
        of a currency format is specified through the currency property in the options objects.</p>
      </div>

      <p>The value of the [[localeData]] internal property is implementation defined within the constraints described in <a
      href="#sec-9.1">9.1</a> and the following additional constraints:</p>

      <ul>
        <li>
          <p>The array that is the value of the "nu" property of any locale property of [[localeData]] must not include the values
          "native", "traditio", or "finance".</p>
        </li>

        <li>
          <p>[[localeData]][locale] must have a patterns property for all locale values. The value of this property must be an
          object, which must have properties with the names of the three number format styles: <code>"decimal"</code>,
          <code>"percent"</code>, and <code>"currency"</code>. Each of these properties in turn must be an object with the
          properties positivePattern and negativePattern. The value of these properties must be string values that contain a
          substring <code>"{number}"</code>; the values within the currency property must also contain a substring
          <code>"{currency}"</code>. The pattern strings must not contain any characters in the General Category “Number, decimal
          digit” as specified by the Unicode Standard.</p>
        </li>
      </ul>

      <div class="note">
        <p><span class="nh">NOTE</span> It is recommended that implementations use the locale data provided by the Common Locale
        Data Repository (available at <a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>).</p>
      </div>
    </section>
  </section>

  <section id="sec-11.3">
    <h1><span class="secnum"><a href="#sec-11.3" title="link to this section">11.3</a></span> Properties of the Intl.NumberFormat
        Prototype Object</h1>

    <p>The Intl.NumberFormat prototype object is itself an Intl.NumberFormat instance as specified in <a
    href="#sec-11.4">11.4</a>, whose internal properties are set as if it had been constructed by the expression
    <code>Intl.NumberFormat.call({})</code> with the standard built-in values of Intl.NumberFormat and
    Function.prototype.call.</p>

    <p>In the following descriptions of functions that are properties or [[Get]] attributes of properties of the Intl.NumberFormat
    prototype object, the phrase “this NumberFormat object” refers to the object that is the this value for the invocation of the
    function; a <b>TypeError</b> exception is thrown if the this value is not an object or an object that does not have an
    [[initializedNumberFormat]] internal property with value <b>true</b>.</p>

    <section id="sec-11.3.1">
      <h1><span class="secnum"><a href="#sec-11.3.1" title="link to this section">11.3.1</a></span>
          Intl.NumberFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.NumberFormat.prototype.constructor</code> is the built-in Intl.NumberFormat
      constructor.</p>
    </section>

    <section id="sec-11.3.2">
      <h1><span class="secnum"><a href="#sec-11.3.2" title="link to this section">11.3.2</a></span>
          Intl.NumberFormat.prototype.format</h1>

      <p>This named accessor property returns a function that formats a number according to the effective locale and the
      formatting options of this NumberFormat object.</p>

      <p>The value of the [[Get]] attribute is a function that takes the following steps:</p>

      <ol class="proc">
        <li>If the [[boundFormat]] internal property of this NumberFormat object is <b>undefined</b>, then:
          <ol class="block">
            <li>Let <i>F</i> be a Function object, with internal properties set as specified for built-in functions in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15">ES5, 15</a>, or successor, and the length property set
                to 1, that takes the argument <i>value</i> and performs the following steps:
              <ol class="block">
                <li>If <i>value</i> is not provided, then let <i>value</i> be <b>undefined</b>.</li>
                <li>Let <i>x</i> be ToNumber(<i>value</i>).</li>
                <li>Return the result of calling the <a href="#FormatNumber">FormatNumber</a> abstract operation (defined below)
                    with arguments <b>this</b> and <i>x</i>.</li>
              </ol>
            </li>
            <li>Let <i>bind</i> be the standard built-in function object defined in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15.3.4.5">ES5, 15.3.4.5</a>.</li>
            <li>Let <i>bf</i> be the result of calling the [[Call]] internal method of <i>bind</i> with <i>F</i> as the
                <b>this</b> value and an argument list containing the single item <b>this</b>.</li>
            <li>Set the [[boundFormat]] internal property of this NumberFormat object to <i>bf</i>.</li>
          </ol>
        </li>
        <li>Return the value of the [[boundFormat]] internal property of this NumberFormat object.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> The function returned by [[Get]] is bound to this NumberFormat object so that it can be
        passed directly to Array.prototype.map or other functions.</p>
      </div>

      <p>The value of the [[Set]] attribute is <b>undefined</b>.</p>

      <p>When the <span id="FormatNumber">FormatNumber</span> abstract operation is called with arguments <var>numberFormat</var>
      (which must be an object initialized as a NumberFormat) and <var>x</var> (which must be a Number value), it returns a String
      value representing <var>x</var> according to the effective locale and the formatting options of <var>numberFormat</var>.</p>

      <p>The computations rely on String values and locations within numeric strings that are dependent upon the implementation
      and the effective locale of <var>numberFormat</var> (“ILD”) or upon the implementation, the effective locale, and the
      numbering system of <var>numberFormat</var> (“ILND”). The ILD and ILND Strings mentioned, other than those for currency
      names, must not contain any characters in the General Category “Number, decimal digit” as specified by the Unicode
      Standard.</p>

      <div class="note">
        <p><span class="nh">NOTE</span> It is recommended that implementations use the locale data provided by the Common Locale
        Data Repository (available at <a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>).</p>
      </div>

      <p>The following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>negative</i> be <b>false</b>.</li>
        <li>If the result of isFinite(<i>x</i>) is <b>false</b>, then
          <ol class="block">
            <li>If <i>x</i> is <b>NaN</b>, then let <i>n</i> be an ILD String value indicating the NaN value.</li>
            <li>Else
              <ol class="block">
                <li>Let <i>n</i> be an ILD String value indicating infinity.</li>
                <li>If <i>x</i> &lt; 0, then let <i>negative</i> be <b>true</b>.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>Else
          <ol class="block">
            <li>If <i>x</i> &lt; 0, then
              <ol class="block">
                <li>Let <i>negative</i> be <b>true</b>.</li>
                <li>Let <i>x</i> be -<i>x</i>.</li>
              </ol>
            </li>
            <li>If the value of the [[style]] internal property of <i>numberFormat</i> is <b>"percent"</b>, let <i>x</i> be 100
                <span style="font-family: Cambria">×</span> <i>x</i>.</li>
            <li>If the [[minimumSignificantDigits]] and [[maximumSignificantDigits]] internal properties of <i>numberFormat</i>
                are present, then
              <ol class="block">
                <li>Let <i>n</i> be the result of calling the <a href="#ToRawPrecision">ToRawPrecision</a> abstract operation
                    (defined below), passing as arguments <i>x</i> and the values of the [[minimumSignificantDigits]] and
                    [[maximumSignificantDigits]] internal properties of <i>numberFormat</i>.</li>
              </ol>
            </li>
            <li>Else
              <ol class="block">
                <li>Let <i>n</i> be the result of calling the <a href="#ToRawFixed">ToRawFixed</a> abstract operation (defined
                    below), passing as arguments <i>x</i> and the values of the [[minimumIntegerDigits]],
                    [[minimumFractionDigits]], and [[maximumFractionDigits]] internal properties of <i>numberFormat</i>.</li>
              </ol>
            </li>
            <li>If the value of the [[numberingSystem]] internal property of <i>numberFormat</i> matches one of the values in the
                “Numbering System” column of <a href="#table-2">Table 2</a> below, then
              <ol class="block">
                <li>Let <i>digits</i> be an array whose 10 String valued elements are the UTF-16 string representations of the 10
                    digits specified in the “Digits” column of <a href="#table-2">Table 2</a> in the row containing the value of
                    the [[numberingSystem]] internal property.</li>
                <li>Replace each <i>digit</i> in <i>n</i> with the value of <i>digits</i>[<i>digit</i>].</li>
              </ol>
            </li>
            <li>Else use an implementation dependent algorithm to map <i>n</i> to the appropriate representation of <i>n</i> in
                the given numbering system.</li>
            <li>If <i>n</i> contains the character <code>"."</code>, then replace it with an ILND String representing the decimal
                separator.</li>
            <li>If the value of the [[useGrouping]] internal property of <i>numberFormat</i> is <b>true</b>, then insert an ILND
                String representing a grouping separator into an ILND set of locations within the integer part of <i>n</i>.</li>
          </ol>
        </li>
        <li>If <i>negative</i> is <b>true</b>, then let <i>result</i> be the value of the [[negativePattern]] internal property of
            <i>numberFormat</i>; else let <i>result</i> be the value of the [[positivePattern]] internal property of
            <i>numberFormat</i>.</li>
        <li>Replace the substring <code>"{number}"</code> within <i>result</i> with <i>n</i>.</li>
        <li>If the value of the [[style]] internal property of <i>numberFormat</i> is <code>"currency"</code>, then:
          <ol class="block">
            <li>Let <i>currency</i> be the value of the [[currency]] internal property of <i>numberFormat</i>.</li>
            <li>If the value of the [[currencyDisplay]] internal property of <i>numberFormat</i> is <code>"code"</code>, then let
                <i>cd</i> be <i>currency</i>.</li>
            <li>Else if the value of the [[currencyDisplay]] internal property of <i>numberFormat</i> is <code>"symbol"</code>,
                then let <i>cd</i> be an ILD string representing <i>currency</i> in short form. If the implementation does not
                have such a representation of <i>currency</i>, then use <i>currency</i> itself.</li>
            <li>Else if the value of the [[currencyDisplay]] internal property of <i>numberFormat</i> is <code>"name"</code>, then
                let <i>cd</i> be an ILD string representing <i>currency</i> in long form. If the implementation does not have such
                a representation of <i>currency</i>, then use <i>currency</i> itself.</li>
            <li>Replace the substring <code>"{currency}"</code> within <i>result</i> with <i>cd</i>.</li>
          </ol>
        </li>
        <li>Return <i>result</i>.</li>
      </ol>

      <p>When the <span id="ToRawPrecision">ToRawPrecision</span> abstract operation is called with arguments <var>x</var> (which
      must be a finite non-negative number), <var>minPrecision</var>, and <var>maxPrecision</var> (both must be integers between 1
      and 21) the following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>p</i> be <i>maxPrecision</i>.</li>
        <li>If <i>x</i> = 0, then
          <ol class="block">
            <li>Let <i>m</i> be the String consisting of <i>p</i> occurrences of the character <code>"0"</code>.</li>
            <li>Let <i>e</i> be 0.</li>
          </ol>
        </li>
        <li>Else
          <ol class="block">
            <li>Let <i>e</i> and <i>n</i> be integers such that 10<sup><i>p</i>–1</sup> ≤ <i>n</i> &lt; 10<sup><i>p</i></sup> and
                for which the exact mathematical value of n <span style="font-family: Cambria">×</span>
                10<sup><i>e</i>–<i>p</i>+1</sup> – <i>x</i> is as close to zero as possible. If there are two such sets of
                <i>e</i> and <i>n</i>, pick the <i>e</i> and <i>n</i> for which <i>n</i> <span style="font-family:
                Cambria">×</span> 10<sup><i>e</i>–<i>p</i>+1</sup> is larger.</li>
            <li>Let <i>m</i> be the String consisting of the digits of the decimal representation of <i>n</i> (in order, with no
                leading zeroes).</li>
          </ol>
        </li>
        <li>If <i>e</i> ≥ <i>p</i>, then
          <ol class="block">
            <li>Return the concatenation of <i>m</i> and <i>e</i>-<i>p</i>+1 occurrences of the character <code>"0"</code>.</li>
          </ol>
        </li>
        <li>If <i>e</i> = <i>p</i>-1, then
          <ol class="block">
            <li>Return <i>m</i>.</li>
          </ol>
        </li>
        <li>If <i>e</i> ≥ 0, then
          <ol class="block">
            <li>Let <i>m</i> be the concatenation of the first <i>e</i>+1 characters of <i>m</i>, the character <code>"."</code>,
                and the remaining <i>p</i>–(<i>e</i>+1) characters of <i>m</i>.</li>
          </ol>
        </li>
        <li>If <i>e</i> &lt; 0, then
          <ol class="block">
            <li>Let <i>m</i> be the concatenation of the String <code>"0."</code>, –(<i>e</i>+1) occurrences of the character
                <code>"0"</code>, and the string <i>m</i>.</li>
          </ol>
        </li>
        <li>If <i>m</i> contains the character <code>"."</code>, and <i>maxPrecision</i> &gt; <i>minPrecision</i>, then
          <ol class="block">
            <li>Let <i>cut</i> be <i>maxPrecision</i> – <i>minPrecision</i>.</li>
            <li>Repeat while <i>cut</i> &gt; 0 and the last character of <i>m</i> is <code>"0"</code>:
              <ol class="block">
                <li>Remove the last character from <i>m</i>.</li>
                <li>Decrease <i>cut</i> by 1.</li>
              </ol>
            </li>
            <li>If the last character of <i>m</i> is <code>"."</code>, then
              <ol class="block">
                <li>Remove the last character from <i>m</i>.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>Return <i>m</i>.</li>
      </ol>

      <p>When the <span id="ToRawFixed">ToRawFixed</span> abstract operation is called with arguments <var>x</var> (which must be
      a finite non-negative number), <var>minInteger</var> (which must be an integer between 1 and 21), <var>minFraction</var>,
      and <var>maxFraction</var> (which must be integers between 0 and 20) the following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>f</i> be <i>maxFraction</i>.</li>
        <li>Let <i>n</i> be an integer for which the exact mathematical value of <i>n</i> <span style="font-family:
            Cambria">÷</span> 10<sup><i>f</i></sup> – <i>x</i> is as close to zero as possible. If there are two such <i>n</i>,
            pick the larger <i>n</i>.</li>
        <li>If <i>n</i> = 0, let <i>m</i> be the String <code>"0"</code>. Otherwise, let <i>m</i> be the String consisting of the
            digits of the decimal representation of <i>n</i> (in order, with no leading zeroes).</li>
        <li>If <i>f</i> ≠ 0, then
          <ol class="block">
            <li>Let <i>k</i> be the number of characters in <i>m</i>.</li>
            <li>If <i>k</i> ≤ <i>f</i>, then
              <ol class="block">
                <li>Let <i>z</i> be the String consisting of <i>f</i>+1–<i>k</i> occurrences of the character
                    <code>"0"</code>.</li>
                <li>Let <i>m</i> be the concatenation of Strings <i>z</i> and <i>m</i>.</li>
                <li>Let <i>k</i>=<i>f</i>+1.</li>
              </ol>
            </li>
            <li>Let <i>a</i> be the first <i>k</i>–<i>f</i> characters of m, and let <i>b</i> be the remaining <i>f</i> characters
                of <i>m</i>.</li>
            <li>Let <i>m</i> be the concatenation of the three Strings <i>a</i>, ".", and <i>b</i>.</li>
            <li>Let <i>int</i> be the number of characters in <i>a</i>.</li>
          </ol>
        </li>
        <li>Else let <i>int</i> be the number of characters in <i>m</i>.</li>
        <li>Let <i>cut</i> be <i>maxFraction</i> – <i>minFraction</i>.</li>
        <li>Repeat while <i>cut</i> &gt; 0 and the last character of <i>m</i> is <code>"0"</code>:
          <ol class="block">
            <li>Remove the last character from <i>m</i>.</li>
            <li>Decrease <i>cut</i> by 1.</li>
          </ol>
        </li>
        <li>If the last character of <i>m</i> is <code>"."</code>, then
          <ol class="block">
            <li>Remove the last character from <i>m</i>.</li>
          </ol>
        </li>
        <li>If <i>int</i> &lt; <i>minInteger</i>, then
          <ol class="block">
            <li>Let <i>z</i> be the String consisting of <i>minInteger</i>–<i>int</i> occurrences of the character
                <code>"0"</code>.</li>
            <li>Let <i>m</i> be the concatenation of Strings <i>z</i> and <i>m</i>.</li>
          </ol>
        </li>
        <li>Return <i>m</i>.</li>
      </ol>

      <figure>
        <figcaption><span id="table-2">Table 2</span> – Numbering systems with simple digit mappings</figcaption>
        <table class="real-table">
          <tr>
            <th>Numbering System</th>
            <th>Digits</th>
          </tr>
          <tr>
            <td>arab</td>
            <td>U+0660 to U+0669</td>
          </tr>
          <tr>
            <td>arabext</td>
            <td>U+06F0 to U+06F9</td>
          </tr>
          <tr>
            <td>bali</td>
            <td>U+1B50 to U+1B59</td>
          </tr>
          <tr>
            <td>beng</td>
            <td>U+09E6 to U+09EF</td>
          </tr>
          <tr>
            <td>deva</td>
            <td>U+0966 to U+096F</td>
          </tr>
          <tr>
            <td>fullwide</td>
            <td>U+FF10 to U+FF19</td>
          </tr>
          <tr>
            <td>gujr</td>
            <td>U+0AE6 to U+0AEF</td>
          </tr>
          <tr>
            <td>guru</td>
            <td>U+0A66 to U+0A6F</td>
          </tr>
          <tr>
            <td>hanidec</td>
            <td>U+3007, U+4E00, U+4E8C, U+4E09, U+56DB, U+4E94, U+516D, U+4E03, U+516B, U+4E5D</td>
          </tr>
          <tr>
            <td>khmr</td>
            <td>U+17E0 to U+17E9</td>
          </tr>
          <tr>
            <td>knda</td>
            <td>U+0CE6 to U+0CEF</td>
          </tr>
          <tr>
            <td>laoo</td>
            <td>U+0ED0 to U+0ED9</td>
          </tr>
          <tr>
            <td>latn</td>
            <td>U+0030 to U+0039</td>
          </tr>
          <tr>
            <td>limb</td>
            <td>U+1946 to U+194F</td>
          </tr>
          <tr>
            <td>mlym</td>
            <td>U+0D66 to U+0D6F</td>
          </tr>
          <tr>
            <td>mong</td>
            <td>U+1810 to U+1819</td>
          </tr>
          <tr>
            <td>mymr</td>
            <td>U+1040 to U+1049</td>
          </tr>
          <tr>
            <td>orya</td>
            <td>U+0B66 to U+0B6F</td>
          </tr>
          <tr>
            <td>tamldec</td>
            <td>U+0BE6 to U+0BEF</td>
          </tr>
          <tr>
            <td>telu</td>
            <td>U+0C66 to U+0C6F</td>
          </tr>
          <tr>
            <td>thai</td>
            <td>U+0E50 to U+0E59</td>
          </tr>
          <tr>
            <td>tibt</td>
            <td>U+0F20 to U+0F29</td>
          </tr>
        </table>
      </figure>
    </section>

    <section id="sec-11.3.3">
      <h1><span class="secnum"><a href="#sec-11.3.3" title="link to this section">11.3.3</a></span>
          Intl.NumberFormat.prototype.resolvedOptions ()</h1>

      <p>This function provides access to the locale and formatting options computed during initialization of the object.</p>

      <p>The function returns a new object whose properties and attributes are set as if constructed by an object literal
      assigning to each of the following properties the value of the corresponding internal property of this NumberFormat object
      (see <a href="#sec-11.4">11.4</a>): locale, numberingSystem, style, currency, currencyDisplay, minimumIntegerDigits,
      minimumFractionDigits, maximumFractionDigits, minimumSignificantDigits, maximumSignificantDigits, and useGrouping.
      Properties whose corresponding internal properties are not present are not assigned.</p>
    </section>
  </section>

  <section id="sec-11.4">
    <h1><span class="secnum"><a href="#sec-11.4" title="link to this section">11.4</a></span> Properties of Intl.NumberFormat
        Instances</h1>

    <p>Intl.NumberFormat instances inherit properties from the Intl.NumberFormat prototype object. Their [[Class]] internal
    property value is <code>"Object"</code>.</p>

    <p>Intl.NumberFormat instances and other objects that have been successfully initialized as a NumberFormat have
    [[initializedIntlObject]] and [[initializedNumberFormat]] internal properties whose values are <b>true</b>.</p>

    <p>Objects that have been successfully initialized as a NumberFormat also have several internal properties that are computed
    by the constructor:</p>

    <ul>
      <li>
        <p>[[locale]] is a String value with the language tag of the locale whose localization is used for formatting.</p>
      </li>

      <li>
        <p>[[numberingSystem]] is a String value with the “type” given in Unicode Technical Standard 35 for the numbering system
        used for formatting.</p>
      </li>

      <li>
        <p>[[style]] is one of the String values <code>"decimal"</code>, <code>"currency"</code>, or <code>"percent"</code>,
        identifying the number format style used.</p>
      </li>

      <li>
        <p>[[currency]] is a String value with the currency code identifying the currency to be used if formatting with the
        <code>"currency"</code> style. It is only present when [[style]] has the value <code>"currency"</code>.</p>
      </li>

      <li>
        <p>[[currencyDisplay]] is one of the String values <code>"code"</code>, <code>"symbol"</code>, or <code>"name"</code>,
        specifying whether to display the currency as an ISO 4217 alphabetic currency code, a localized currency symbol, or a
        localized currency name if formatting with the <code>"currency"</code> style. It is only present when [[style]] has the
        value <code>"currency"</code>.</p>
      </li>

      <li>
        <p>[[minimumIntegerDigits]] is a non-negative integer Number value indicating the minimum integer digits to be used.
        Numbers will be padded with leading zeroes if necessary.</p>
      </li>

      <li>
        <p>[[minimumFractionDigits]] and [[maximumFractionDigits]] are non-negative integer Number values indicating the minimum
        and maximum fraction digits to be used. Numbers will be rounded or padded with trailing zeroes if necessary.</p>
      </li>

      <li>
        <p>[[minimumSignificantDigits]] and [[maximumSignificantDigits]] are positive integer Number values indicating the minimum
        and maximum fraction digits to be shown. Either none or both of these properties are present; if they are, they override
        minimum and maximum integer and fraction digits – the formatter uses however many integer and fraction digits are required
        to display the specified number of significant digits.</p>
      </li>

      <li>
        <p>[[useGrouping]] is a Boolean value indicating whether a grouping separator should be used.</p>
      </li>

      <li>
        <p>[[positivePattern]] and [[negativePattern]] are String values as described in <a href="#sec-11.2.3">11.2.3</a>.</p>
      </li>
    </ul>

    <p>Finally, objects that have been successfully initialized as a NumberFormat have a [[boundFormat]] internal property that
    caches the function returned by the format accessor (<a href="#sec-11.3.2">11.3.2</a>).</p>
  </section>
</section>

<section id="sec-12">
  <h1><span class="secnum"><a href="#sec-12" title="link to this section">12</a></span> DateTimeFormat Objects</h1>

  <section id="sec-12.1">
    <h1><span class="secnum"><a href="#sec-12.1" title="link to this section">12.1</a></span> The Intl.DateTimeFormat
        Constructor</h1>

    <p>The Intl.DateTimeFormat constructor is a standard built-in property of the Intl object. Behaviour common to all service
    constructor properties of the Intl object is specified in <a href="#sec-9.1">9.1</a>.</p>

    <section id="sec-12.1.1">
      <h1><span class="secnum"><a href="#sec-12.1.1" title="link to this section">12.1.1</a></span> Initializing an Object as a
          DateTimeFormat</h1>

      <section id="sec-12.1.1.1">
        <h1><span class="secnum"><a href="#sec-12.1.1.1" title="link to this section">12.1.1.1</a></span> InitializeDateTimeFormat
            (dateTimeFormat, locales, options)</h1>

        <p>The abstract operation InitializeDateTimeFormat accepts the arguments <var>dateTimeFormat</var> (which must be an
        object), <var>locales</var>, and <var>options</var>. It initializes <var>dateTimeFormat</var> as a DateTimeFormat
        object.</p>

        <p>Several DateTimeFormat algorithms use values from the following table, which provides property names and allowable
        values for the components of date and time formats:</p>

        <figure>
          <figcaption><span id="table-3">Table 3</span> – Components of date and time formats</figcaption>
          <table class="real-table">
            <tr>
              <th>Property</th>
              <th>Values</th>
            </tr>
            <tr>
              <td>weekday</td>
              <td>"narrow", "short", "long"</td>
            </tr>
            <tr>
              <td>era</td>
              <td>"narrow", "short", "long"</td>
            </tr>
            <tr>
              <td>year</td>
              <td>"2-digit", "numeric"</td>
            </tr>
            <tr>
              <td>month</td>
              <td>"2-digit", "numeric", "narrow", "short", "long"</td>
            </tr>
            <tr>
              <td>day</td>
              <td>"2-digit", "numeric"</td>
            </tr>
            <tr>
              <td>hour</td>
              <td>"2-digit", "numeric"</td>
            </tr>
            <tr>
              <td>minute</td>
              <td>"2-digit", "numeric"</td>
            </tr>
            <tr>
              <td>second</td>
              <td>"2-digit", "numeric"</td>
            </tr>
            <tr>
              <td>timeZoneName</td>
              <td>"short", "long"</td>
            </tr>
          </table>
        </figure>

        <p>The following steps are taken:</p>

        <ol class="proc">
          <li>If <i>dateTimeFormat</i> has an [[initializedIntlObject]] internal property with value <b>true</b>, throw a
              <b>TypeError</b> exception.</li>
          <li>Set the [[initializedIntlObject]] internal property of <i>dateTimeFormat</i> to <b>true</b>.</li>
          <li>Let <i>requestedLocales</i> be the result of calling the <a href="#sec-9.2.1">CanonicalizeLocaleList</a> abstract
              operation (defined in <a href="#sec-9.2.1">9.2.1</a>) with argument <i>locales</i>.</li>
          <li>Let <i>options</i> be the result of calling the <a href="#ToDateTimeOptions">ToDateTimeOptions</a> abstract
              operation (defined below) with arguments <i>options</i>, <code>"any"</code>, and <code>"date"</code>.</li>
          <li>Let <i>opt</i> be a new <a href="#sec-5">Record</a>.</li>
          <li>Let <i>matcher</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation (defined in <a
              href="#sec-9.2.9">9.2.9</a>) with arguments <i>options</i>, <code>"localeMatcher"</code>, <code>"string"</code>, a
              <a href="#sec-5">List</a> containing the two String values <code>"lookup"</code> and <code>"best fit"</code>, and
              <code>"best fit"</code>.</li>
          <li>Set <i>opt</i>.[[localeMatcher]] to <i>matcher</i>.</li>
          <li>Let <i>DateTimeFormat</i> be the standard built-in object that is the initial value of Intl.DateTimeFormat.</li>
          <li>Let <i>localeData</i> be the value of the [[localeData]] internal property of <i>DateTimeFormat</i>.</li>
          <li>Let <i>r</i> be the result of calling the <a href="#sec-9.2.5">ResolveLocale</a> abstract operation (defined in <a
              href="#sec-9.2.5">9.2.5</a>) with the [[availableLocales]] internal property of <i>DateTimeFormat</i>,
              <i>requestedLocales</i>, <i>opt</i>, the [[relevantExtensionKeys]] internal property of <i>DateTimeFormat</i>, and
              <i>localeData</i>.</li>
          <li>Set the [[locale]] internal property of <i>dateTimeFormat</i> to the value of <i>r</i>.[[locale]].</li>
          <li>Set the [[calendar]] internal property of <i>dateTimeFormat</i> to the value of <i>r</i>.[[ca]].</li>
          <li>Set the [[numberingSystem]] internal property of <i>dateTimeFormat</i> to the value of <i>r</i>.[[nu]].</li>
          <li>Let <i>dataLocale</i> be the value of <i>r</i>.[[dataLocale]].</li>
          <li>Let <i>tz</i> be the result of calling the [[Get]] internal method of <i>options</i> with argument
              <code>"timeZone"</code>.</li>
          <li>If <i>tz</i> is not <b>undefined</b>, then
            <ol class="block">
              <li>Let <i>tz</i> be ToString(<i>tz</i>).</li>
              <li>Convert <i>tz</i> to upper case as described in <a href="#sec-6.1">6.1</a>.<br><span style="font-family:
                  sans-serif">NOTE:</span>	<span style="font-family: sans-serif">If an implementation accepts additional time zone
                  values, as permitted under certain conditions by the Conformance clause, different casing rules
                  apply.</span></li>
              <li>If <i>tz</i> is not <code>"UTC"</code>, then throw a <b>RangeError</b> exception.</li>
            </ol>
          </li>
          <li>Set the [[timeZone]] internal property of <i>dateTimeFormat</i> to <i>tz</i>.</li>
          <li>Let <i>opt</i> be a new <a href="#sec-5">Record</a>.</li>
          <li>For each row of <a href="#table-3">Table 3</a>, except the header row, do:</li>
          <li>Let <i>prop</i> be the name given in the Property column of the row.</li>
          <li>Let <i>value</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation, passing as
              argument <i>options</i>, the name given in the Property column of the row, <code>"string"</code>, a <a
              href="#sec-5">List</a> containing the strings given in the Values column of the row, and <b>undefined</b>.</li>
          <li>Set <i>opt</i>.[[&lt;<i>prop</i>&gt;]] to <i>value</i>.</li>
          <li>Let <i>dataLocaleData</i> be the result of calling the [[Get]] internal method of <i>localeData</i> with argument
              <i>dataLocale</i>.</li>
          <li>Let <i>formats</i> be the result of calling the [[Get]] internal method of <i>dataLocaleData</i> with argument
              <code>"formats"</code>.</li>
          <li>Let <i>matcher</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with arguments
              <i>options</i>, <code>"formatMatcher"</code>, <code>"string"</code>, a <a href="#sec-5">List</a> containing the two
              String values <code>"basic"</code> and <code>"best fit"</code>, and <code>"best fit"</code>.</li>
          <li>If <i>matcher</i> is <code>"basic"</code>, then</li>
          <li>Let <i>bestFormat</i> be the result of calling the <a href="#BasicFormatMatcher">BasicFormatMatcher</a> abstract
              operation (defined below) with <i>opt</i> and <i>formats</i>.</li>
          <li>Else</li>
          <li>Let <i>bestFormat</i> be the result of calling the <a href="#BestFitFormatMatcher">BestFitFormatMatcher</a> abstract
              operation (defined below) with <i>opt</i> and <i>formats</i>.</li>
          <li>For each row in <a href="#table-3">Table 3</a>, except the header row, do
            <ol class="block">
              <li>Let <i>prop</i> be the name given in the Property column of the row.</li>
              <li>Let <i>pDesc</i> be the result of calling the [[GetOwnProperty]] internal method of <i>bestFormat</i> with
                  argument <i>prop</i>.</li>
              <li>If <i>pDesc</i> is not <b>undefined</b>, then
                <ol class="block">
                  <li>Let <i>p</i> be the result of calling the [[Get]] internal method of <i>bestFormat</i> with argument
                      <i>prop</i>.</li>
                  <li>Set the [[&lt;<i>prop</i>&gt;]] internal property of <i>dateTimeFormat</i> to <i>p</i>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Let <i>hr12</i> be the result of calling the <a href="#sec-9.2.9">GetOption</a> abstract operation with arguments
              <i>options</i>, <code>"hour12"</code>, <code>"boolean"</code>, <b>undefined</b>, and <b>undefined</b>.</li>
          <li>If <i>dateTimeFormat</i> has an internal property [[hour]], then
            <ol class="block">
              <li>If <i>hr12</i> is <b>undefined</b>, then let <i>hr12</i> be the result of calling the [[Get]] internal method of
                  <i>dataLocaleData</i> with argument <code>"hour12"</code>.</li>
              <li>Set the [[hour12]] internal property of <i>dateTimeFormat</i> to <i>hr12</i>.</li>
              <li>If <i>hr12</i> is <b>true</b>, then
                <ol class="block">
                  <li>Let <i>hourNo0</i> be the result of calling the [[Get]] internal method of <i>dataLocaleData</i> with
                      argument <code>"hourNo0"</code>.</li>
                  <li>Set the [[hourNo0]] internal property of <i>dateTimeFormat</i> to <i>hourNo0</i>.</li>
                  <li>Let <i>pattern</i> be the result of calling the [[Get]] internal method of <i>bestFormat</i> with argument
                      <code>"pattern12"</code>.</li>
                </ol>
              </li>
              <li>Else
                <ol class="block">
                  <li>Let <i>pattern</i> be the result of calling the [[Get]] internal method of <i>bestFormat</i> with argument
                      <code>"pattern"</code>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Else
            <ol class="block">
              <li>Let <i>pattern</i> be the result of calling the [[Get]] internal method of <i>bestFormat</i> with argument
                  <code>"pattern"</code>.</li>
            </ol>
          </li>
          <li>Set the [[pattern]] internal property of <i>dateTimeFormat</i> to <i>pattern</i>.</li>
          <li>Set the [[boundFormat]] internal property of <i>dateTimeFormat</i> to <b>undefined</b>.</li>
          <li>Set the [[initializedDateTimeFormat]] internal property of <i>dateTimeFormat</i> to <b>true</b>.</li>
        </ol>

        <p>When the <span id="ToDateTimeOptions">ToDateTimeOptions</span> abstract operation is called with arguments
        <var>options</var>, <var>required</var>, and <var>defaults</var>, the following steps are taken:</p>

        <ol class="proc">
          <li>If <i>options</i> is <b>undefined</b>, then let <i>options</i> be <b>null</b>, else let <i>options</i> be
              ToObject(<i>options</i>).</li>
          <li>Let <i>create</i> be the standard built-in function object defined in <a
              href="http://ecma-international.org/ecma-262/5.1/#sec-15.2.3.5">ES5, 15.2.3.5</a>.</li>
          <li>Let <i>options</i> be the result of calling the [[Call]] internal method of <i>create</i> with <b>undefined</b> as
              the <b>this</b> value and an argument list containing the single item <i>options</i>.</li>
          <li>Let <i>needDefaults</i> be <b>true</b>.</li>
          <li>If <i>required</i> is <code>"date"</code> or <code>"any"</code>, then
            <ol class="block">
              <li>For each of the property names <code>"weekday"</code>, <code>"year"</code>, <code>"month"</code>,
                  <code>"day"</code>:
                <ol class="block">
                  <li>If the result of calling the [[Get]] internal method of <i>options</i> with the property name is not
                      <b>undefined</b>, then let <i>needDefaults</i> be <b>false</b>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>If <i>required</i> is <code>"time"</code> or <code>"any"</code>, then
            <ol class="block">
              <li>For each of the property names <code>"hour"</code>, <code>"minute"</code>, <code>"second"</code>:
                <ol class="block">
                  <li>If the result of calling the [[Get]] internal method of <i>options</i> with the property name is not
                      <b>undefined</b>, then let <i>needDefaults</i> be <b>false</b>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>If <i>needDefaults</i> is <b>true</b> and <i>defaults</i> is either <code>"date"</code> or <code>"all"</code>, then
            <ol class="block">
              <li>For each of the property names <code>"year"</code>, <code>"month"</code>, <code>"day"</code>:
                <ol class="block">
                  <li>Call the [[DefineOwnProperty]] internal method of <i>options</i> with the property name, Property Descriptor
                      {[[Value]]: <code>"numeric"</code>, [[Writable]]: <b>true</b>, [[Enumerable]]: <b>true</b>,
                      [[Configurable]]: <b>true</b>}, and <b>false</b>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>If <i>needDefaults</i> is <b>true</b> and <i>defaults</i> is either <code>"time"</code> or <code>"all"</code>, then
            <ol class="block">
              <li>For each of the property names <code>"hour"</code>, <code>"minute"</code>, <code>"second"</code>:
                <ol class="block">
                  <li>Call the [[DefineOwnProperty]] internal method of <i>options</i> with the property name, Property Descriptor
                      {[[Value]]: <code>"numeric"</code>, [[Writable]]: <b>true</b>, [[Enumerable]]: <b>true</b>,
                      [[Configurable]]: <b>true</b>}, and <b>false</b>.</li>
                </ol>
              </li>
            </ol>
          </li>
          <li>Return <i>options</i>.</li>
        </ol>

        <p>When the <span id="BasicFormatMatcher">BasicFormatMatcher</span> abstract operation is called with two arguments
        <var>options</var> and <var>formats</var>, the following steps are taken:</p>

        <ol class="proc">
          <li>Let <i>removalPenalty</i> be 120.</li>
          <li>Let <i>additionPenalty</i> be 20.</li>
          <li>Let <i>longLessPenalty</i> be 8.</li>
          <li>Let <i>longMorePenalty</i> be 6.</li>
          <li>Let <i>shortLessPenalty</i> be 6.</li>
          <li>Let <i>shortMorePenalty</i> be 3.</li>
          <li>Let <i>bestScore</i> be -<b>Infinity</b>.</li>
          <li>Let <i>bestFormat</i> be <b>undefined</b>.</li>
          <li>Let <i>i</i> be 0.</li>
          <li>Let <i>len</i> be the result of calling the [[Get]] internal method of <i>formats</i> with argument
              <b>"length"</b>.</li>
          <li>Repeat while <i>i</i> &lt; <i>len</i>:
            <ol class="block">
              <li>Let <i>format</i> be the result of calling the [[Get]] internal method of <i>formats</i> with argument
                  ToString(<i>i</i>).</li>
              <li>Let <i>score</i> be 0.</li>
              <li>For each <i>property</i> shown in <a href="#table-3">Table 3</a>:
                <ol class="block">
                  <li>Let <i>optionsProp</i> be <i>options</i>.[[&lt;<i>property</i>&gt;]].</li>
                  <li>Let <i>formatPropDesc</i> be the result of calling the [[GetOwnProperty]] internal method of <i>format</i>
                      with argument <i>property</i>.</li>
                  <li>If <i>formatPropDesc</i> is not <b>undefined</b>, then
                    <ol class="block">
                      <li>Let <i>formatProp</i> be the result of calling the [[Get]] internal method of <i>format</i> with
                          argument <i>property</i>.</li>
                    </ol>
                  </li>
                  <li>If <i>optionsProp</i> is <b>undefined</b> and <i>formatProp</i> is not <b>undefined</b>, then decrease
                      <i>score</i> by <i>additionPenalty</i>.</li>
                  <li>Else if <i>optionsProp</i> is not <b>undefined</b> and <i>formatProp</i> is <b>undefined</b>, then decrease
                      <i>score</i> by <i>removalPenalty</i>.</li>
                  <li>Else
                    <ol class="block">
                      <li>Let <i>values</i> be the array <code>["2-digit", "numeric", "narrow", "short", "long"]</code>.</li>
                      <li>Let <i>optionsPropIndex</i> be the index of <i>optionsProp</i> within <i>values</i>.</li>
                      <li>Let <i>formatPropIndex</i> be the index of <i>formatProp</i> within <i>values</i>.</li>
                      <li>Let <i>delta</i> be max(min(<i>formatPropIndex</i> - <i>optionsPropIndex</i>, 2), -2).</li>
                      <li>If <i>delta</i> = 2, decrease <i>score</i> by <i>longMorePenalty</i>.</li>
                      <li>Else if <i>delta</i> = 1, decrease <i>score</i> by <i>shortMorePenalty</i>.</li>
                      <li>Else if <i>delta</i> = -1, decrease <i>score</i> by <i>shortLessPenalty</i>.</li>
                      <li>Else if <i>delta</i> = -2, decrease <i>score</i> by <i>longLessPenalty</i>.</li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>If <i>score</i> &gt; <i>bestScore</i>, then
                <ol class="block">
                  <li>Let <i>bestScore</i> be <i>score</i>.</li>
                  <li>Let <i>bestFormat</i> be <i>format</i>.</li>
                </ol>
              </li>
              <li>Increase <i>i</i> by 1.</li>
            </ol>
          </li>
          <li>Return <i>bestFormat</i>.</li>
        </ol>

        <p>When the <span id="BestFitFormatMatcher">BestFitFormatMatcher</span> abstract operation is called with two arguments
        <var>options</var> and <var>formats</var>, it performs implementation dependent steps, which should return a set of
        component representations that a typical user of the selected locale would perceive as at least as good as the one
        returned by <a href="#BasicFormatMatcher">BasicFormatMatcher</a>.</p>
      </section>
    </section>

    <section id="sec-12.1.2">
      <h1><span class="secnum"><a href="#sec-12.1.2" title="link to this section">12.1.2</a></span> The Intl.DateTimeFormat
          Constructor Called as a Function</h1>

      <section id="sec-12.1.2.1">
        <h1><span class="secnum"><a href="#sec-12.1.2.1" title="link to this section">12.1.2.1</a></span> Intl.DateTimeFormat.call
            (this [, locales [, options]])</h1>

        <p>When <code>Intl.DateTimeFormat</code> is called as a function rather than as a constructor, it accepts the optional
        arguments <var>locales</var> and <var>options</var> and takes the following steps:</p>

        <ol class="proc">
          <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
          <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
          <li>If <b>this</b> is the standard built-in Intl object defined in <a href="#sec-8">8</a> or <b>undefined</b>, then
            <ol class="block">
              <li>Return the result of creating a new object as if by the expression new <code>Intl.DateTimeFormat(locales,
                  options)</code>, where <code>Intl.DateTimeFormat</code> is the standard built-in constructor defined in <a
                  href="#sec-12.1.3">12.1.3</a>.</li>
            </ol>
          </li>
          <li>Let <i>obj</i> be the result of calling ToObject passing the <b>this</b> value as the argument.</li>
          <li>If the [[Extensible]] internal property of <i>obj</i> is <b>false</b>, throw a <b>TypeError</b> exception.</li>
          <li>Call the <a href="#sec-12.1.1.1">InitializeDateTimeFormat</a> abstract operation (defined in <a
              href="#sec-12.1.1.1">12.1.1.1</a>) with arguments <i>obj</i>, <i>locales</i>, and <i>options</i>.</li>
          <li>Return <i>obj</i>.</li>
        </ol>
      </section>
    </section>

    <section id="sec-12.1.3">
      <h1><span class="secnum"><a href="#sec-12.1.3" title="link to this section">12.1.3</a></span> The Intl.DateTimeFormat
          Constructor Used in a new Expression</h1>

      <section id="sec-12.1.3.1">
        <h1><span class="secnum"><a href="#sec-12.1.3.1" title="link to this section">12.1.3.1</a></span> new Intl.DateTimeFormat
            ([locales [, options]])</h1>

        <p>When <code>Intl.DateTimeFormat</code> is called as part of a <code>new</code> expression, it is a constructor: it
        initializes the newly created object.</p>

        <p>The [[Prototype]] internal property of the newly constructed object is set to the original Intl.DateTimeFormat
        prototype object, the one that is the initial value of <code>Intl.DateTimeFormat.prototype</code> (<a
        href="#sec-12.2.1">12.2.1</a>).</p>

        <p>The [[Extensible]] internal property of the newly constructed object is set to <b>true</b>.</p>

        <p>DateTimeFormat-specific properties of the newly constructed object are set using the following steps:</p>

        <ol class="proc">
          <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
          <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
          <li>Call the <a href="#sec-12.1.1.1">InitializeDateTimeFormat</a> abstract operation (defined in <a
              href="#sec-12.1.1.1">12.1.1.1</a>), passing as arguments the newly constructed object, <i>locales</i>, and
              <i>options</i>.</li>
        </ol>
      </section>
    </section>
  </section>

  <section id="sec-12.2">
    <h1><span class="secnum"><a href="#sec-12.2" title="link to this section">12.2</a></span> Properties of the
        Intl.DateTimeFormat Constructor</h1>

    <p>Besides the internal properties and the <code>length</code> property (whose value is 0), the Intl.DateTimeFormat
    constructor has the following properties:</p>

    <section id="sec-12.2.1">
      <h1><span class="secnum"><a href="#sec-12.2.1" title="link to this section">12.2.1</a></span>
          Intl.DateTimeFormat.prototype</h1>

      <p>The value of <code>Intl.DateTimeFormat.prototype</code> is the built-in Intl.DateTimeFormat prototype object (<a
      href="#sec-12.3">12.3</a>).</p>

      <p>This property has the attributes { [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }.</p>
    </section>

    <section id="sec-12.2.2">
      <h1><span class="secnum"><a href="#sec-12.2.2" title="link to this section">12.2.2</a></span>
          Intl.DateTimeFormat.supportedLocalesOf (locales [, options])</h1>

      <p>When the <code>supportedLocalesOf</code> method of Intl.DateTimeFormat is called, the following steps are taken:</p>

      <ol class="proc">
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>availableLocales</i> be the value of the [[availableLocales]] internal property of the standard built-in object
            that is the initial value of Intl.DateTimeFormat.</li>
        <li>Let <i>requestedLocales</i> be the result of calling the <a href="#sec-9.2.1">CanonicalizeLocaleList</a> abstract
            operation (defined in <a href="#sec-9.2.1">9.2.1</a>) with argument <i>locales</i>.</li>
        <li>Return the result of calling the <a href="#sec-9.2.8">SupportedLocales</a> abstract operation (defined in <a
            href="#sec-9.2.8">9.2.8</a>) with arguments <i>availableLocales</i>, <i>requestedLocales</i>, and <i>options</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>supportedLocalesOf</code> method is <code>1</code>.</p>
    </section>

    <section id="sec-12.2.3">
      <h1><span class="secnum"><a href="#sec-12.2.3" title="link to this section">12.2.3</a></span> Internal Properties</h1>

      <p>The value of the [[availableLocales]] internal property is implementation defined within the constraints described in <a
      href="#sec-9.1">9.1</a>.</p>

      <p>The value of the [[relevantExtensionKeys]] internal property is <code>["ca", "nu"]</code>.</p>

      <div class="note">
        <p><span class="nh">NOTE</span> Unicode Technical Standard 35 describes three locale extension keys that are relevant to
        date and time formatting, "ca" for calendar, "tz" for time zone, and implicitly "nu" for the numbering system of the
        number format used for numbers within the date format. DateTimeFormat, however, requires that the time zone is specified
        through the timeZone property in the options objects.</p>
      </div>

      <p>The value of the [[localeData]] internal property is implementation defined within the constraints described in <a
      href="#sec-9.1">9.1</a> and the following additional constraints:</p>

      <ul>
        <li>
          <p>The array that is the value of the "nu" property of any locale property of [[localeData]] must not include the values
          "native", "traditio", or "finance".</p>
        </li>

        <li>
          <p>[[localeData]][locale] must have hour12 and hourNo0 properties with Boolean values for all locale values.</p>
        </li>

        <li>
          <p>[[localeData]][locale] must have a formats property for all locale values. The value of this property must be an
          array of objects, each of which has a subset of the properties shown in <a href="#table-3">Table 3</a>, where each
          property must have one of the values specified for the property in <a href="#table-3">Table 3</a>. Multiple objects in
          an array may use the same subset of the properties as long as they have different values for the properties. The
          following subsets must be available for each locale:</p>

          <ul>
            <li>weekday, year, month, day, hour, minute, second</li>
            <li>weekday, year, month, day</li>
            <li>year, month, day</li>
            <li>year, month</li>
            <li>month, day</li>
            <li>hour, minute, second</li>
            <li>hour, minute</li>
          </ul>
        </li>

        <li>
          <p>Each of the objects must also have a pattern property, whose value is a String value that contains for each of the
          date and time format component properties of the object a substring starting with "{", followed by the name of the
          property, followed by "}". If the object has an hour property, it must also have a pattern12 property, whose value is a
          String value that, in addition to the substrings of the pattern property, contains a substring "{ampm}".</p>
        </li>
      </ul>

      <div class="note">
        <p><span class="nh">EXAMPLE</span> An implementation might include the following object as part of its English locale
        data: {hour: "numeric", minute: "2-digit", second: "2-digit", pattern: "{hour}:{minute}:{second}", pattern12:
        "{hour}:{minute}:{second} {ampm}"}.</p>
      </div>

      <div class="note">
        <p><span class="nh">NOTE</span> It is recommended that implementations use the locale data provided by the Common Locale
        Data Repository (available at <a href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>).</p>
      </div>
    </section>
  </section>

  <section id="sec-12.3">
    <h1><span class="secnum"><a href="#sec-12.3" title="link to this section">12.3</a></span> Properties of the
        Intl.DateTimeFormat Prototype Object</h1>

    <p>The Intl.DateTimeFormat prototype object is itself an Intl.DateTimeFormat instance as specified in <a
    href="#sec-12.4">12.4</a>, whose internal properties are set as if it had been constructed by the expression
    <code>Intl.DateTimeFormat.call({})</code> with the standard built-in values of Intl.DateTimeFormat and
    Function.prototype.call.</p>

    <p>In the following descriptions of functions that are properties or [[Get]] attributes of properties of the
    Intl.DateTimeFormat prototype object, the phrase “this DateTimeFormat object” refers to the object that is the this value for
    the invocation of the function; a <b>TypeError</b> exception is thrown if the this value is not an object or an object that
    does not have an [[initializedDateTimeFormat]] internal property with value <b>true</b>.</p>

    <section id="sec-12.3.1">
      <h1><span class="secnum"><a href="#sec-12.3.1" title="link to this section">12.3.1</a></span>
          Intl.DateTimeFormat.prototype.constructor</h1>

      <p>The initial value of <code>Intl.DateTimeFormat.prototype.constructor</code> is the built-in Intl.DateTimeFormat
      constructor.</p>
    </section>

    <section id="sec-12.3.2">
      <h1><span class="secnum"><a href="#sec-12.3.2" title="link to this section">12.3.2</a></span>
          Intl.DateTimeFormat.prototype.format</h1>

      <p>This named accessor property returns a function that formats a date according to the effective locale and the formatting
      options of this DateTimeFormat object.</p>

      <p>The value of the [[Get]] attribute is a function that takes the following steps:</p>

      <ol class="proc">
        <li>If the [[boundFormat]] internal property of this DateTimeFormat object is <b>undefined</b>, then:
          <ol class="block">
            <li>Let <i>F</i> be a Function object, with internal properties set as specified for built-in functions in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15">ES5, 15</a>, or successor, and the length property set
                to 0, that takes the argument <i>date</i> and performs the following steps:
              <ol class="block">
                <li>If <i>date</i> is not provided or is <b>undefined</b>, then let <i>x</i> be the result as if by the expression
                    <code>Date.now()</code> where <code>Date.now</code> is the standard built-in function defined in <a
                    href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.4.4">ES5, 15.9.4.4</a>.</li>
                <li>Else let <i>x</i> be ToNumber(<i>date</i>).</li>
                <li>Return the result of calling the <a href="#FormatDateTime">FormatDateTime</a> abstract operation (defined
                    below) with arguments <b>this</b> and <i>x</i>.</li>
              </ol>
            </li>
            <li>Let <i>bind</i> be the standard built-in function object defined in <a
                href="http://ecma-international.org/ecma-262/5.1/#sec-15.3.4.5">ES5, 15.3.4.5</a>.</li>
            <li>Let <i>bf</i> be the result of calling the [[Call]] internal method of <i>bind</i> with <i>F</i> as the
                <b>this</b> value and an argument list containing the single item <b>this</b>.</li>
            <li>Set the [[boundFormat]] internal property of this DateTimeFormat object to <i>bf</i>.</li>
          </ol>
        </li>
        <li>Return the value of the [[boundFormat]] internal property of this DateTimeFormat object.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> The function returned by [[Get]] is bound to this DateTimeFormat object so that it can be
        passed directly to Array.prototype.map or other functions.</p>
      </div>

      <p>The value of the [[Set]] attribute is <b>undefined</b>.</p>

      <p>When the <span id="FormatDateTime">FormatDateTime</span> abstract operation is called with arguments
      <var>dateTimeFormat</var> (which must be an object initialized as a DateTimeFormat) and <var>x</var> (which must be a Number
      value), it returns a String value representing <var>x</var> (interpreted as a time value as specified in <a
      href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.1">ES5, 15.9.1.1</a>) according to the effective locale and the
      formatting options of <var>dateTimeFormat</var>.</p>

      <ol class="proc">
        <li>If <i>x</i> is not a finite Number, then throw a <b>RangeError</b> exception.</li>
        <li>Let <i>locale</i> be the value of the [[locale]] internal property of <i>dateTimeFormat</i>.</li>
        <li>Let <i>nf</i> be the result of creating a new NumberFormat object as if by the expression <code>new
            Intl.NumberFormat([locale], {useGrouping: false})</code> where <code>Intl.NumberFormat</code> is the standard built-in
            constructor defined in <a href="#sec-11.1.3">11.1.3</a>.</li>
        <li>Let <i>nf2</i> be the result of creating a new NumberFormat object as if by the expression <code>new
            Intl.NumberFormat([locale], {minimumIntegerDigits: 2, useGrouping: false})</code> where <code>Intl.NumberFormat</code>
            is the standard built-in constructor defined in <a href="#sec-11.1.3">11.1.3</a>.</li>
        <li>Let <i>tm</i> be the result of calling the <a href="#ToLocalTime">ToLocalTime</a> abstract operation (defined below)
            with <i>x</i>, the value of the [[calendar]] internal property of <i>dateTimeFormat</i>, and the value of the
            [[timeZone]] internal property of <i>dateTimeFormat</i>.</li>
        <li>Let <i>result</i> be the value of the [[pattern]] internal property of <i>dateTimeFormat</i>.</li>
        <li>For each row of <a href="#table-3">Table 3</a>, except the header row, do:
          <ol class="block">
            <li>If <i>dateTimeFormat</i> has an internal property with the name given in the Property column of the row, then:
              <ol class="block">
                <li>Let <i>p</i> be the name given in the Property column of the row.</li>
                <li>Let <i>f</i> be the value of the [[&lt;<i>p</i>&gt;]] internal property of <i>dateTimeFormat</i>.</li>
                <li>Let <i>v</i> be the value of <i>tm</i>.[[&lt;<i>p</i>&gt;]].</li>
                <li>If <i>p</i> is <code>"year"</code> and <i>v</i> ≤ 0, then let <i>v</i> be 1 - <i>v</i>.</li>
                <li>If <i>p</i> is <code>"month"</code>, then increase <i>v</i> by 1.</li>
                <li>If <i>p</i> is <code>"hour"</code> and the value of the [[hour12]] internal property of <i>dateTimeFormat</i>
                    is <b>true</b>, then
                  <ol class="block">
                    <li>Let <i>v</i> be <i>v</i> modulo 12.</li>
                    <li>If <i>v</i> is equal to the value of <i>tm</i>.[[&lt;<i>p</i>&gt;]], then let <i>pm</i> be <b>false</b>;
                        else let <i>pm</i> be <b>true</b>.</li>
                    <li>If <i>v</i> is 0 and the value of the [[hourNo0]] internal property of <i>dateTimeFormat</i> is
                        <b>true</b>, then let <i>v</i> be 12.</li>
                  </ol>
                </li>
                <li>If <i>f</i> is <code>"numeric"</code>, then
                  <ol class="block">
                    <li>Let <i>fv</i> be the result of calling the <a href="#FormatNumber">FormatNumber</a> abstract operation
                        (defined in <a href="#sec-11.3.2">11.3.2</a>) with arguments <i>nf</i> and <i>v</i>.</li>
                  </ol>
                </li>
                <li>Else if <i>f</i> is <code>"2-digit"</code>, then
                  <ol class="block">
                    <li>Let <i>fv</i> be the result of calling the <a href="#FormatNumber">FormatNumber</a> abstract operation
                        with arguments <i>nf2</i> and <i>v</i>.</li>
                    <li>If the length of <i>fv</i> is greater than 2, let <i>fv</i> be the substring of <i>fv</i> containing the
                        last two characters.</li>
                  </ol>
                </li>
                <li>Else if <i>f</i> is <code>"narrow"</code>, <code>"short"</code>, or <code>"long"</code>, then let <i>fv</i> be
                    a String value representing <i>f</i> in the desired form; the String value depends upon the implementation and
                    the effective locale and calendar of <i>dateTimeFormat</i>. If <i>p</i> is <code>"month"</code>, then the
                    String value may also depend on whether <i>dateTimeFormat</i> has a [[day]] internal property. If <i>p</i> is
                    <code>"timeZoneName"</code>, then the String value may also depend on the value of the [[inDST]] field of
                    <i>tm</i>.</li>
                <li>Replace the substring of <i>result</i> that consists of <code>"{"</code>, <i>p</i>, and <code>"}"</code>, with
                    <i>fv</i>.</li>
              </ol>
            </li>
          </ol>
        </li>
        <li>If <i>dateTimeFormat</i> has an internal property [[hour12]] whose value is <b>true</b>, then
          <ol class="block">
            <li>If <i>pm</i> is <b>true</b>, then let <i>fv</i> be an implementation and locale dependent String value
                representing “post meridiem”; else let <i>fv</i> be an implementation and locale dependent String value
                representing “ante meridiem”.</li>
            <li>Replace the substring of <i>result</i> that consists of <code>"{ampm}"</code>, with <i>fv</i>.</li>
          </ol>
        </li>
        <li>Return <i>result</i>.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> It is recommended that implementations use the locale and calendar dependent strings
        provided by the Common Locale Data Repository (available at <a
        href="http://cldr.unicode.org/">http://cldr.unicode.org/</a>), and use CLDR “abbreviated” strings for DateTimeFormat
        “short” strings, and CLDR “wide” strings for DateTimeFormat “long” strings.</p>
      </div>

      <p>When the <span id="ToLocalTime">ToLocalTime</span> abstract operation is called with arguments <var>date</var>,
      <var>calendar</var>, and <var>timeZone</var>, the following steps are taken:</p>

      <ol class="proc">
        <li>Apply calendrical calculations on date for the given calendar and time zone to produce weekday, era, year, month, day,
            hour, minute, second, and inDST values. The calculations should use best available information about the specified
            calendar and time zone. If the calendar is <code>"gregory"</code>, then the calculations must match the algorithms
            specified in <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.1">ES5, 15.9.1</a>, except that
            calculations are not bound by the restrictions on the use of best available information on time zones for local time
            zone adjustment and daylight saving time adjustment imposed by <a
            href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.7">ES5, 15.9.1.7</a> and <a
            href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.8">15.9.1.8</a>.</li>
        <li>Return a <a href="#sec-5">Record</a> with fields [[weekday]], [[era]], [[year]], [[month]], [[day]], [[hour]],
            [[minute]], [[second]], and [[inDST]], each with the corresponding calculated value.</li>
      </ol>

      <div class="note">
        <p><span class="nh">NOTE</span> It is recommended that implementations use the time zone information of the IANA Time Zone
        Database.</p>
      </div>
    </section>

    <section id="sec-12.3.3">
      <h1><span class="secnum"><a href="#sec-12.3.3" title="link to this section">12.3.3</a></span>
          Intl.DateTimeFormat.prototype.resolvedOptions ()</h1>

      <p>This function provides access to the locale and formatting options computed during initialization of the object.</p>

      <p>The function returns a new object whose properties and attributes are set as if constructed by an object literal
      assigning to each of the following properties the value of the corresponding internal property of this DateTimeFormat object
      (see <a href="#sec-12.4">12.4</a>): locale, calendar, numberingSystem, timeZone, hour12, weekday, era, year, month, day,
      hour, minute, second, and timeZoneName. Properties whose corresponding internal properties are not present are not
      assigned.</p>

      <div class="note">
        <p><span class="nh">NOTE</span> In this version of the ECMAScript Internationalization API, the timeZone property will
        remain undefined if no timeZone property was provided in the options object provided to the Intl.DateTimeFormat
        constructor. However, applications should not rely on this, as future versions may return a String value identifying the
        host environment’s current time zone instead.</p>
      </div>
    </section>
  </section>

  <section id="sec-12.4">
    <h1><span class="secnum"><a href="#sec-12.4" title="link to this section">12.4</a></span> Properties of Intl.DateTimeFormat
        Instances</h1>

    <p>Intl.DateTimeFormat instances inherit properties from the Intl.DateTimeFormat prototype object. Their [[Class]] internal
    property value is <code>"Object"</code>.</p>

    <p>Intl.DateTimeFormat instances and other objects that have been successfully initialized as a DateTimeFormat have
    [[initializedIntlObject]] and [[initializedDateTimeFormat]] internal properties whose values are <b>true</b>.</p>

    <p>Objects that have been successfully initialized as a DateTimeFormat also have several internal properties that are computed
    by the constructor:</p>

    <ul>
      <li>
        <p>[[locale]] is a String value with the language tag of the locale whose localization is used for formatting.</p>
      </li>

      <li>
        <p>[[calendar]] is a String value with the “type” given in Unicode Technical Standard 35 for the calendar used for
        formatting.</p>
      </li>

      <li>
        <p>[[numberingSystem]] is a String value with the “type” given in Unicode Technical Standard 35 for the numbering system
        used for formatting.</p>
      </li>

      <li>
        <p>[[timeZone]] is either the String value <code>"UTC"</code> or <b>undefined</b>.</p>
      </li>

      <li>
        <p>[[weekday]], [[era]], [[year]], [[month]], [[day]], [[hour]], [[minute]], [[second]], [[timeZoneName]] are each either
        absent, indicating that the component is not used for formatting, or one of the String values given in <a
        href="#table-3">Table 3</a>, indicating how the component should be presented in the formatted output.</p>
      </li>

      <li>
        <p>[[hour12]] is a Boolean value indicating whether 12-hour format (<b>true</b>) or 24-hour format (<b>false</b>) should
        be used. It is only present when [[hour]] is also present.</p>
      </li>

      <li>
        <p>[[hourNo0]] is a Boolean value indicating whether hours from 1 to 12 (<b>true</b>) or from 0 to 11 (<b>false</b>)
        should be used. It is only present when [[hour12]] is also present and has the value <b>true</b>.</p>
      </li>

      <li>
        <p>[[pattern]] is a String value as described in <a href="#sec-12.2.3">12.2.3</a>.</p>
      </li>
    </ul>

    <p>Finally, objects that have been successfully initialized as a DateTimeFormat have a [[boundFormat]] internal property that
    caches the function returned by the format accessor (<a href="#sec-12.3.2">12.3.2</a>).</p>
  </section>
</section>

<section id="sec-13">
  <h1><span class="secnum"><a href="#sec-13" title="link to this section">13</a></span> Locale Sensitive Functions of the
      ECMAScript Language Specification</h1>

  <p>The ECMAScript Language Specification, edition 5.1 or successor, describes several locale sensitive functions. An ECMAScript
  implementation that implements this Internationalization API shall implement these functions as described here.</p>

  <div class="note">
    <p><span class="nh">NOTE</span> The Collator, NumberFormat, or DateTimeFormat objects created in the algorithms in this clause
    are only used within these algorithms. They are never directly accessed by ECMAScript code and need not actually exist within
    an implementation.</p>
  </div>

  <section id="sec-13.1">
    <h1><span class="secnum"><a href="#sec-13.1" title="link to this section">13.1</a></span> Properties of the String Prototype
        Object</h1>

    <section id="sec-13.1.1">
      <h1><span class="secnum"><a href="#sec-13.1.1" title="link to this section">13.1.1</a></span> String.prototype.localeCompare
          (that [, locales [, options]])</h1>

      <p>This definition supersedes the definition provided in <a
      href="http://ecma-international.org/ecma-262/5.1/#sec-15.5.4.9">ES5, 15.5.4.9</a>.</p>

      <p>When the <code>localeCompare</code> method is called with argument <var>that</var> and optional arguments
      <var>locales</var>, and <var>options</var>, the following steps are taken:</p>

      <ol class="proc">
        <li>Call CheckObjectCoercible passing the <b>this</b> value as its argument.</li>
        <li>Let <i>S</i> be the result of calling ToString passing the <b>this</b> value as its argument.</li>
        <li>Let <i>That</i> be ToString(<i>that</i>).</li>
        <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>collator</i> be the result of creating an object as if by the expression <code>new Intl.Collator(locales,
            options)</code> where <code>Intl.Collator</code> is the standard built-in constructor defined in <a
            href="#sec-10.1.3">10.1.3</a>.</li>
        <li>Return the result of calling the <a href="#CompareStrings">CompareStrings</a> abstract operation (defined in <a
            href="#sec-10.3.2">10.3.2</a>) with arguments <i>collator</i>, <i>S</i>, and <i>That</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>localeCompare</code> method is <code>1</code>.</p>

      <div class="note">
        <p><span class="nh">NOTE 1</span> The <code>localeCompare</code> method itself is not directly suitable as an argument to
        <code>Array.prototype.sort</code> because the latter requires a function of two arguments.</p>
      </div>

      <div class="note">
        <p><span class="nh">NOTE 2</span> The <code>localeCompare</code> function is intentionally generic; it does not require
        that its <b>this</b> value be a String object. Therefore, it can be transferred to other kinds of objects for use as a
        method.</p>
      </div>
    </section>
  </section>

  <section id="sec-13.2">
    <h1><span class="secnum"><a href="#sec-13.2" title="link to this section">13.2</a></span> Properties of the Number Prototype
        Object</h1>

    <section id="sec-13.2.1">
      <h1><span class="secnum"><a href="#sec-13.2.1" title="link to this section">13.2.1</a></span>
          Number.prototype.toLocaleString ([locales [, options]])</h1>

      <p>This definition supersedes the definition provided in <a
      href="http://ecma-international.org/ecma-262/5.1/#sec-15.7.4.3">ES5, 15.7.4.3</a>.</p>

      <p>When the <code>toLocaleString</code> method is called with optional arguments <var>locales</var> and <var>options</var>,
      the following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>x</i> be this Number value (as defined in <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.7.4">ES5,
            15.7.4</a>).</li>
        <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>numberFormat</i> be the result of creating a new object as if by the expression <code>new
            Intl.NumberFormat(locales, options)</code> where <code>Intl.NumberFormat</code> is the standard built-in constructor
            defined in <a href="#sec-11.1.3">11.1.3</a>.</li>
        <li>Return the result of calling the <a href="#FormatNumber">FormatNumber</a> abstract operation (defined in <a
            href="#sec-11.3.2">11.3.2</a>) with arguments <i>numberFormat</i> and <i>x</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>toLocaleString</code> method is <code>0</code>.</p>
    </section>
  </section>

  <section id="sec-13.3">
    <h1><span class="secnum"><a href="#sec-13.3" title="link to this section">13.3</a></span> Properties of the Date Prototype
        Object</h1>

    <section id="sec-13.3.1">
      <h1><span class="secnum"><a href="#sec-13.3.1" title="link to this section">13.3.1</a></span> Date.prototype.toLocaleString
          ([locales [, options]])</h1>

      <p>This definition supersedes the definition provided in <a
      href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.5.5">ES5, 15.9.5.5</a>.</p>

      <p>When the <code>toLocaleString</code> method is called with optional arguments <var>locales</var> and <var>options</var>,
      the following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>x</i> be this time value (as defined in <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.5">ES5,
            15.9.5</a>).</li>
        <li>If <i>x</i> is <b>NaN</b>, then return <code>"Invalid Date"</code>.</li>
        <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>options</i> be the result of calling the <a href="#ToDateTimeOptions">ToDateTimeOptions</a> abstract operation
            (defined in <a href="#sec-12.1.1">12.1.1</a>) with arguments <i>options</i>, <code>"any"</code>, and
            <code>"all"</code>.</li>
        <li>Let <i>dateTimeFormat</i> be the result of creating a new object as if by the expression <code>new
            Intl.DateTimeFormat(locales, options)</code> where <code>Intl.DateTimeFormat</code> is the standard built-in
            constructor defined in <a href="#sec-12.1.3">12.1.3</a>.</li>
        <li>Return the result of calling the <a href="#FormatDateTime">FormatDateTime</a> abstract operation (defined in <a
            href="#sec-12.3.2">12.3.2</a>) with arguments <i>dateTimeFormat</i> and <i>x</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>toLocaleString</code> method is <code>0</code>.</p>
    </section>

    <section id="sec-13.3.2">
      <h1><span class="secnum"><a href="#sec-13.3.2" title="link to this section">13.3.2</a></span>
          Date.prototype.toLocaleDateString ([locales [, options]])</h1>

      <p>This definition supersedes the definition provided in <a
      href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.5.6">ES5, 15.9.5.6</a>.</p>

      <p>When the <code>toLocaleDateString</code> method is called with optional arguments <var>locales</var> and
      <var>options</var>, the following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>x</i> be this time value (as defined in <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.5">ES5,
            15.9.5</a>).</li>
        <li>If <i>x</i> is <b>NaN</b>, then return <code>"Invalid Date"</code>.</li>
        <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>options</i> be the result of calling the <a href="#ToDateTimeOptions">ToDateTimeOptions</a> abstract operation
            (defined in <a href="#sec-12.1.1">12.1.1</a>) with arguments <i>options</i>, <code>"date"</code>, and
            <code>"date"</code>.</li>
        <li>Let <i>dateFormat</i> be the result of creating a new object as if by the expression <code>new
            Intl.DateTimeFormat(locales, options)</code> where <code>Intl.DateTimeFormat</code> is the standard built-in
            constructor defined in <a href="#sec-12.1.3">12.1.3</a>.</li>
        <li>Return the result of calling the <a href="#FormatDateTime">FormatDateTime</a> abstract operation (defined in <a
            href="#sec-12.3.2">12.3.2</a>) with arguments <i>dateTimeFormat</i> and <i>x</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>toLocaleDateString</code> method is <code>0</code>.</p>
    </section>

    <section id="sec-13.3.3">
      <h1><span class="secnum"><a href="#sec-13.3.3" title="link to this section">13.3.3</a></span>
          Date.prototype.toLocaleTimeString ([locales [, options]])</h1>

      <p>This definition supersedes the definition provided in <a
      href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.5.7">ES5, 15.9.5.7</a>.</p>

      <p>When the <code>toLocaleTimeString</code> method is called with optional arguments <var>locales</var> and
      <var>options</var>, the following steps are taken:</p>

      <ol class="proc">
        <li>Let <i>x</i> be this time value (as defined in <a href="http://ecma-international.org/ecma-262/5.1/#sec-15.9.5">ES5,
            15.9.5</a>).</li>
        <li>If x is <b>NaN</b>, then return <code>"Invalid Date"</code>.</li>
        <li>If <i>locales</i> is not provided, then let <i>locales</i> be <b>undefined</b>.</li>
        <li>If <i>options</i> is not provided, then let <i>options</i> be <b>undefined</b>.</li>
        <li>Let <i>options</i> be the result of calling the <a href="#ToDateTimeOptions">ToDateTimeOptions</a> abstract operation
            (defined in <a href="#sec-12.1.1">12.1.1</a>) with arguments <i>options</i>, <code>"time"</code>, and
            <code>"time"</code>.</li>
        <li>Let <i>timeFormat</i> be the result of creating a new object as if by the expression <code>new
            Intl.DateTimeFormat(locales, options)</code> where <code>Intl.DateTimeFormat</code> is the standard built-in
            constructor defined in <a href="#sec-12.1.3">12.1.3</a>.</li>
        <li>Return the result of calling the <a href="#FormatDateTime">FormatDateTime</a> abstract operation (defined in <a
            href="#sec-12.3.2">12.3.2</a>) with arguments <i>dateTimeFormat</i> and <i>x</i>.</li>
      </ol>

      <p>The value of the <code>length</code> property of the <code>toLocaleTimeString</code> method is <code>0</code>.</p>
    </section>
  </section>
</section>

<section id="sec-A">
  <h1><span class="secnum"><a href="#sec-A" title="link to this section">Annex A </a></span> <span
      class="section-status">(informative)</span> Implementation Dependent Behaviour</h1>

  <p>The following aspects of the ECMAScript Internationalization API are implementation dependent:</p>

  <ul>
    <li>
      <p>In all functionality:</p>

      <ul>
        <li>Additional values for some properties of <var>options</var> arguments (<a href="#sec-2">2</a>)</li>
        <li>Canonicalization of extension subtag sequences beyond the rules of RFC 5646 (<a href="#sec-6.2.3">6.2.3</a>)</li>
        <li>The default locale (<a href="#sec-6.2.4">6.2.4</a>)</li>
        <li>The host environment’s current time zone (<a href="#sec-6.4">6.4</a>)</li>
        <li>The set of available locales for each constructor (<a href="#sec-9.1">9.1</a>)</li>
        <li>The <a href="#sec-9.2.4">BestFitMatcher</a> algorithm (<a href="#sec-9.2.4">9.2.4</a>)</li>
        <li>The <a href="#sec-9.2.7">BestFitSupportedLocales</a> algorithm (<a href="#sec-9.2.7">9.2.7</a>)</li>
      </ul>
    </li>

    <li>
      <p>In Collator:</p>

      <ul>
        <li>Support for the Unicode extensions keys kn, kf and the parallel options properties numeric, caseFirst (<a
            href="#sec-10.2.3">10.2.3</a>)</li>
        <li>The set of supported <code>"co"</code> key values (collations) per locale beyond a default collation (<a
            href="#sec-10.2.3">10.2.3</a>)</li>
        <li>The set of supported <code>"kn"</code> key values (numeric collation) per locale (<a
            href="#sec-10.2.3">10.2.3</a>)</li>
        <li>The set of supported <code>"kf"</code> key values (case order) per locale (<a href="#sec-10.2.3">10.2.3</a>)</li>
        <li>The default search sensitivity per locale (<a href="#sec-10.2.3">10.2.3</a>)</li>
        <li>The sort order for each supported locale and options combination (<a href="#sec-10.3.2">10.3.2</a>)</li>
      </ul>
    </li>

    <li>
      <p>In NumberFormat:</p>

      <ul>
        <li>The set of supported <code>"nu"</code> key values (numbering systems) per locale (<a
            href="#sec-11.2.3">11.2.3</a>)</li>
        <li>The patterns used for formatting positive and negative values as decimal, percent, or currency values per locale (<a
            href="#sec-11.2.3">11.2.3</a>)</li>
        <li>Localized representations of <b>NaN</b> and <b>Infinity</b> (<a href="#sec-11.3.2">11.3.2</a>)</li>
        <li>The implementation of numbering systems not listed in <a href="#table-2">Table 2</a> (<a
            href="#sec-11.3.2">11.3.2</a>)</li>
        <li>Localized decimal and grouping separators (<a href="#sec-11.3.2">11.3.2</a>)</li>
        <li>Localized digit grouping schemata (<a href="#sec-11.3.2">11.3.2</a>)</li>
        <li>Localized currency symbols and names (<a href="#sec-11.3.2">11.3.2</a>)</li>
      </ul>
    </li>

    <li>
      <p>In DateTimeFormat:</p>

      <ul>
        <li>The <a href="#BestFitFormatMatcher">BestFitFormatMatcher</a> algorithm (<a href="#sec-12.1.1">12.1.1</a>)</li>
        <li>The set of supported <code>"ca"</code> key values (calendars) per locale (<a href="#sec-12.2.3">12.2.3</a>)</li>
        <li>The set of supported <code>"nu"</code> key values (numbering systems) per locale (<a
            href="#sec-12.2.3">12.2.3</a>)</li>
        <li>The default hour12 and hourNo0 settings per locale (<a href="#sec-11.2.3">11.2.3</a>)</li>
        <li>The set of supported date-time formats per locale beyond a core set, including the representations used for each
            component and the associated patterns (<a href="#sec-12.2.3">12.2.3</a>)</li>
        <li>Localized weekday names, era names, month names, am/pm indicators, and time zone names (<a
            href="#sec-12.3.2">12.3.2</a>)</li>
        <li>The calendrical calculations used for calendars other than <code>"gregory"</code>, and adjustments for local time
            zones and daylight saving time (<a href="#sec-12.3.2">12.3.2</a>)</li>
      </ul>
    </li>
  </ul>
</section>
</body>
</html>
